<mah:MetroWindow
    x:Class="FeatureLogging.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:local="clr-namespace:FeatureLogging"
    xmlns:iconPacks="http://metro.mahapps.com/winfx/xaml/iconpacks"
    xmlns:notifications="clr-namespace:Notification.Wpf.Controls;assembly=Notification.Wpf"
    xmlns:mah="clr-namespace:MahApps.Metro.Controls;assembly=MahApps.Metro"
    xmlns:controlzEx="urn:controlzex"
    xmlns:emoji="clr-namespace:Emoji.Wpf;assembly=Emoji.Wpf"
    xmlns:system="clr-namespace:System;assembly=netstandard"
    xmlns:wv2="clr-namespace:Microsoft.Web.WebView2.Wpf;assembly=Microsoft.Web.WebView2.Wpf"
    xmlns:oxy="http://oxyplot.org/wpf"
    xmlns:oxyshared="clr-namespace:OxyPlot.Wpf;assembly=OxyPlot.Wpf.Shared"
    mc:Ignorable="d"
    Title="{Binding Title}"
    Icon="pack://application:,,,/Feature Logging;component/App.ico"
    Height="800" Width="1200" MinHeight="720" MinWidth="1200"
    GlowBrush="{DynamicResource MahApps.Brushes.Accent}"
    ResizeMode="CanResizeWithGrip"
    SourceInitialized="OnSourceInitialized"
    Activated="OnActivatedChanged"
    Deactivated="OnActivatedChanged"
    Closing="OnClosing"
    DataContextChanged="OnDataContextChanged">

    <Window.DataContext>
        <local:MainViewModel />
    </Window.DataContext>

    <Window.Resources>
        <local:ValidationResultColorConverter x:Key="validationResultColorConverter" />
        <local:ValidationResultColorConverter x:Key="greenValidationResultColorConverter" ValidBrush="Lime" />
        <local:ValidationResultColorConverter x:Key="redValidationResultColorConverter" InvalidBrush="Red" />
        <local:ValidationResultColorConverter x:Key="orangeValidationResultColorConverter" InvalidBrush="Orange" />
        <local:BooleanToIndicatorColorConverter x:Key="booleanToIndicatorColorConverter" ZeroBrush="White" ValueBrush="Lime" />
        <local:BooleanToIndicatorOpacityConverter x:Key="booleanToIndicatorOpacityConverter" ZeroOpacity="0.2" ValueOpacity="1.0" />
        <local:BooleanToIndicatorColorConverter x:Key="booleanToErrorIndicatorColorConverter" ZeroBrush="White" ValueBrush="Red" />
        <local:BooleanToIndicatorColorConverter x:Key="booleanToWarningIndicatorColorConverter" ZeroBrush="White" ValueBrush="Orange" />
        <local:ValidationBooleanColorConverter x:Key="validationBooleanColorConverter" />
        <local:ValidationResultVisibilityConverter x:Key="validationResultVisibilityConverter" />
        <local:ValidationBooleanVisibilityConverter x:Key="validationBooleanVisibilityConverter" />
        <local:ValueVisibilityConverter x:Key="valueVisibilityConverter" />
        <local:StringJoinConverter x:Key="stringJoinConverter" />
        <local:NullableColorToBrushConverter x:Key="nullableColorToBrushConverter" />
        <local:BooleanToFontWeightConverter x:Key="booleanToFontWeightConverter" />
        <local:BooleanToAccentColorConverter x:Key="booleanToAccentColorConverter" />
        <local:BooleanToBorderColorConverter x:Key="booleanToBorderColorConverter" />
        <local:CountToVisibilityConverter x:Key="countToVisibilityConverter" />
        <local:BooleanToVisibilityConverter x:Key="booleanToVisibilityConverter" />

        <ObjectDataProvider x:Key="SyncModePreferenceEnumValues"
                                MethodName="GetValues"
                                ObjectType="{x:Type controlzEx:ThemeSyncMode}">
            <ObjectDataProvider.MethodParameters>
                <x:Type TypeName="controlzEx:ThemeSyncMode" />
            </ObjectDataProvider.MethodParameters>
        </ObjectDataProvider>

        <ControlTemplate x:Key="CustomTrackerTemplate">
            <oxyshared:TrackerControl Position="{Binding Position}" LineExtents="{Binding PlotModel.PlotArea}" Opacity="1">
                <oxyshared:TrackerControl.Background>
                    <LinearGradientBrush EndPoint="0,1">
                        <GradientStop Offset="0" Color="Wheat" />
                        <GradientStop Offset="0.5" Color="White" />
                        <GradientStop Offset="1" Color="Wheat" />
                    </LinearGradientBrush>
                </oxyshared:TrackerControl.Background>
                <oxyshared:TrackerControl.Content>
                    <TextBlock Text="{Binding}" Margin="7" Foreground="Black" />
                </oxyshared:TrackerControl.Content>
            </oxyshared:TrackerControl>
        </ControlTemplate>

    </Window.Resources>

    <Window.InputBindings>
        <KeyBinding Key="N" Modifiers="Ctrl" Command="{Binding NewFeaturesCommand}" />
        <KeyBinding Key="O" Modifiers="Ctrl" Command="{Binding OpenFeaturesCommand}" />
        <KeyBinding Key="S" Modifiers="Ctrl" Command="{Binding SaveFeaturesCommand}" />
        <KeyBinding Key="T" Modifiers="Ctrl" Command="{Binding GenerateReportCommand}" />
        <KeyBinding Key="R" Modifiers="Ctrl" Command="{Binding SaveReportCommand}" />
        <KeyBinding Key="OemComma" Modifiers="Ctrl" Command="{Binding LaunchSettingsCommand}" />
        <KeyBinding Key="OemPlus" Modifiers="Ctrl" Command="{Binding AddFeatureCommand}" />
        <KeyBinding Key="OemMinus" Modifiers="Ctrl" Command="{Binding RemoveFeatureCommand}" />
        <KeyBinding Key="C" Modifiers="Ctrl+Alt" Command="{Binding LaunchCullingAppCommand}" />
        <KeyBinding Key="A" Modifiers="Ctrl+Alt" Command="{Binding LaunchAiCheckAppCommand}" />
        <KeyBinding Key="L" Modifiers="Ctrl" Command="{Binding LoadPostCommand}" />
        <KeyBinding Key="T" Modifiers="Ctrl+Shift" Command="{Binding ShowStatisticsViewCommand}" />

        <KeyBinding Key="Backspace" Modifiers="Ctrl" Command="{Binding RemoveDownloadedPostFeatureCommand}" />
        <KeyBinding Key="OemTilde" Modifiers="Ctrl" Command="{Binding CloseCurrentViewCommand}" />
        <KeyBinding Key="Left" Modifiers="Ctrl" Command="{Binding NavigateToPreviousFeatureCommand}" />
        <KeyBinding Key="Right" Modifiers="Ctrl" Command="{Binding NavigateToNextFeatureCommand}" />
    </Window.InputBindings>

    <mah:MetroWindow.RightWindowCommands>
        <mah:WindowCommands>
            <Button
                Visibility="{Binding LogViewVisibility}"
                Command="{Binding NewFeaturesCommand}"
                Content="New log"
                ToolTip="Creates a new feature log (Ctrl+N)">
                <Button.ContentTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal">
                            <iconPacks:PackIconCodicons
                                Width="20"
                                Height="20"
                                VerticalAlignment="Center"
                                Kind="NewFolder" />
                            <TextBlock Margin="4 0 0 0"
                                VerticalAlignment="Center"
                                Text="{Binding}" />
                        </StackPanel>
                    </DataTemplate>
                </Button.ContentTemplate>
            </Button>
            <Button
                Visibility="{Binding LogViewVisibility}"
                Command="{Binding OpenFeaturesCommand}"
                Content="Open log..."
                ToolTip="Opens a saved log (Ctrl+O)">
                <Button.ContentTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal">
                            <iconPacks:PackIconCodicons
                                Width="20"
                                Height="20"
                                VerticalAlignment="Center"
                                Kind="FolderOpened" />
                            <TextBlock Margin="4 0 0 0"
                                VerticalAlignment="Center"
                                Text="{Binding}" />
                        </StackPanel>
                    </DataTemplate>
                </Button.ContentTemplate>
            </Button>
            <Button
                Visibility="{Binding LogViewVisibility}"
                Command="{Binding SaveFeaturesCommand}"
                Content="Save log..."
                ToolTip="Opens a saved log (Ctrl+S)">
                <Button.ContentTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal">
                            <iconPacks:PackIconCodicons
                                Width="20"
                                Height="20"
                                VerticalAlignment="Center"
                                Kind="SaveAs" />
                            <TextBlock Margin="4 0 0 0"
                                VerticalAlignment="Center"
                                Text="{Binding}" />
                        </StackPanel>
                    </DataTemplate>
                </Button.ContentTemplate>
            </Button>
            <Button
                Visibility="{Binding LogViewVisibility}"
                Command="{Binding SaveReportCommand}"
                Content="Save report..."
                ToolTip="Saves a report of the features to a file (Ctrl+R)">
                <Button.ContentTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal">
                            <iconPacks:PackIconEntypo
                                Width="20"
                                Height="20"
                                Kind="Book" />
                            <TextBlock Margin="4 0 0 0"
                                VerticalAlignment="Center"
                                Text="{Binding}" />
                        </StackPanel>
                    </DataTemplate>
                </Button.ContentTemplate>
            </Button>
            <Button
                Visibility="{Binding LogViewVisibility}"
                Command="{Binding LaunchSettingsCommand}"
                Content="Settings" ToolTip="Opens the application settings (Ctrl+comma)">
                <Button.ContentTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal">
                            <iconPacks:PackIconCodicons
                                Width="20"
                                Height="20"
                                Kind="Settings" />
                            <TextBlock Margin="4 0 0 0"
                                VerticalAlignment="Center"
                                Text="{Binding}" />
                        </StackPanel>
                    </DataTemplate>
                </Button.ContentTemplate>
            </Button>
            <Button
                Visibility="{Binding FeatureNavigationVisibility}"
                Command="{Binding NavigateToPreviousFeatureCommand}"
                Content="Previous" ToolTip="Previous feature (Ctrl+left)">
                <Button.ContentTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal">
                            <iconPacks:PackIconCodicons
                                Width="20"
                                Height="20"
                                Kind="TriangleLeft" />
                            <TextBlock Margin="4 0 0 0"
                                VerticalAlignment="Center"
                                Text="{Binding}" />
                        </StackPanel>
                    </DataTemplate>
                </Button.ContentTemplate>
            </Button>
            <Button
                Visibility="{Binding ScriptViewVisibility}"
                Command="{Binding CloseCurrentViewCommand}"
                Content="Close" ToolTip="Closes the script editor (Ctrl+tilda)">
                <Button.ContentTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal">
                            <iconPacks:PackIconJamIcons
                                Width="20"
                                Height="20"
                                Kind="CloseCircle" />
                            <TextBlock Margin="4 0 0 0"
                                VerticalAlignment="Center"
                                Text="{Binding}" />
                        </StackPanel>
                    </DataTemplate>
                </Button.ContentTemplate>
            </Button>
            <Button
                Visibility="{Binding StatisticsViewVisibility}"
                Command="{Binding CloseCurrentViewCommand}"
                Content="Close" ToolTip="Closes the statistics (Ctrl+tilda)">
                <Button.ContentTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal">
                            <iconPacks:PackIconJamIcons
                                Width="20"
                                Height="20"
                                Kind="CloseCircle" />
                            <TextBlock Margin="4 0 0 0"
                                VerticalAlignment="Center"
                                Text="{Binding}" />
                        </StackPanel>
                    </DataTemplate>
                </Button.ContentTemplate>
            </Button>
            <Button
                Visibility="{Binding PostDownloaderViewVisibility}"
                Command="{Binding RemoveDownloadedPostFeatureCommand}"
                Content="Remove feature" ToolTip="Removes the feature currently open (Ctrl+backspace)">
                <Button.ContentTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal">
                            <iconPacks:PackIconJamIcons
                                Width="20"
                                Height="20"
                                Kind="Trash" />
                            <TextBlock Margin="4 0 0 0"
                                VerticalAlignment="Center"
                                Text="{Binding}" />
                        </StackPanel>
                    </DataTemplate>
                </Button.ContentTemplate>
            </Button>
            <Button
                Visibility="{Binding PostDownloaderViewVisibility}"
                Command="{Binding CloseCurrentViewCommand}"
                Content="Close" ToolTip="Closes the post viewer (Ctrl+tilda)">
                <Button.ContentTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal">
                            <iconPacks:PackIconJamIcons
                                Width="20"
                                Height="20"
                                Kind="CloseCircle" />
                            <TextBlock Margin="4 0 0 0"
                                VerticalAlignment="Center"
                                Text="{Binding}" />
                        </StackPanel>
                    </DataTemplate>
                </Button.ContentTemplate>
            </Button>
            <Button
                Visibility="{Binding ImageValidationViewVisibility}"
                Command="{Binding RemoveDownloadedPostFeatureCommand}"
                Content="Remove feature" ToolTip="Removes the feature currently open (Ctrl+backspace)">
                <Button.ContentTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal">
                            <iconPacks:PackIconJamIcons
                                Width="20"
                                Height="20"
                                Kind="Trash" />
                            <TextBlock Margin="4 0 0 0"
                                VerticalAlignment="Center"
                                Text="{Binding}" />
                        </StackPanel>
                    </DataTemplate>
                </Button.ContentTemplate>
            </Button>
            <Button
                Visibility="{Binding ImageValidationViewVisibility}"
                Command="{Binding CloseCurrentViewCommand}"
                Content="Close" ToolTip="Closes the image validator (Ctrl+tilda)">
                <Button.ContentTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal">
                            <iconPacks:PackIconJamIcons
                                Width="20"
                                Height="20"
                                Kind="CloseCircle" />
                            <TextBlock Margin="4 0 0 0"
                                VerticalAlignment="Center"
                                Text="{Binding}" />
                        </StackPanel>
                    </DataTemplate>
                </Button.ContentTemplate>
            </Button>
            <Button
                Visibility="{Binding ImageViewVisibility}"
                Command="{Binding RemoveDownloadedPostFeatureCommand}"
                Content="Remove feature" ToolTip="Removes the feature currently open (Ctrl+backspace)">
                <Button.ContentTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal">
                            <iconPacks:PackIconJamIcons
                                Width="20"
                                Height="20"
                                Kind="Trash" />
                            <TextBlock Margin="4 0 0 0"
                                VerticalAlignment="Center"
                                Text="{Binding}" />
                        </StackPanel>
                    </DataTemplate>
                </Button.ContentTemplate>
            </Button>
            <Button
                Visibility="{Binding ImageViewVisibility}"
                Command="{Binding CloseCurrentViewCommand}"
                Content="Close" ToolTip="Closes the image viewer (Ctrl+tilda)">
                <Button.ContentTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal">
                            <iconPacks:PackIconJamIcons
                                Width="20"
                                Height="20"
                                Kind="CloseCircle" />
                            <TextBlock Margin="4 0 0 0"
                                VerticalAlignment="Center"
                                Text="{Binding}" />
                        </StackPanel>
                    </DataTemplate>
                </Button.ContentTemplate>
            </Button>
            <Button
                Visibility="{Binding FeatureNavigationVisibility}"
                Command="{Binding NavigateToNextFeatureCommand}"
                Content="Next" ToolTip="Next feature (Ctrl+right)">
                <Button.ContentTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal">
                            <iconPacks:PackIconCodicons
                                Width="20"
                                Height="20"
                                Kind="TriangleRight" />
                            <TextBlock Margin="4 0 0 0"
                                VerticalAlignment="Center"
                                Text="{Binding}" />
                        </StackPanel>
                    </DataTemplate>
                </Button.ContentTemplate>
            </Button>
        </mah:WindowCommands>
    </mah:MetroWindow.RightWindowCommands>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <!-- Menu -->
        <Menu Grid.Row="0"
              Margin="8,0,8,0"
              HorizontalAlignment="Left"
              VerticalAlignment="Stretch">
            <MenuItem Header="File" SubmenuOpened="MenuItem_SubmenuOpened">
                <MenuItem Header="New log" Command="{Binding NewFeaturesCommand}" InputGestureText="Ctrl+N" />
                <MenuItem Header="Open log..." Command="{Binding OpenFeaturesCommand}" InputGestureText="Ctrl+O" />
                <Separator />
                <MenuItem Header="Save log..." Command="{Binding SaveFeaturesCommand}" InputGestureText="Ctrl+S" />
                <MenuItem Header="Save report..." Command="{Binding SaveReportCommand}" InputGestureText="Ctrl+R" />
                <Separator />
                <MenuItem Header="{Binding CullingAppLaunch}" Command="{Binding LaunchCullingAppCommand}" InputGestureText="Ctrl+Alt+C" />
                <MenuItem Header="{Binding AiCheckAppLaunch}" Command="{Binding LaunchAiCheckAppCommand}" InputGestureText="Ctrl+Alt+A" />
                <Separator />
                <MenuItem Header="Exit" Click="Exit_Clicked" InputGestureText="Alt+F4" />
            </MenuItem>
            <MenuItem Header="Edit">
                <MenuItem Header="Settings..." Command="{Binding LaunchSettingsCommand}" InputGestureText="Ctrl+," />
            </MenuItem>
            <MenuItem Header="View">
                <MenuItem Header="Show statistics" Command="{Binding ShowStatisticsViewCommand}" InputGestureText="Ctrl+Shift+T" />
            </MenuItem>
        </Menu>

        <!-- LOG VIEW -->
        <Grid
            Visibility="{Binding LogViewVisibility}"
            Grid.Row="1"
            Margin="16,8,16,8">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />                 <!-- Page -->
                <RowDefinition Height="Auto" />                 <!-- You -->
                <RowDefinition Height="318" />                  <!-- Feature -->
                <RowDefinition Height="Auto" />                 <!-- Feature Buttons -->
                <RowDefinition Height="*" />                    <!-- Feature List -->
            </Grid.RowDefinitions>

            <!-- Page -->
            <Grid
                Grid.Row="0"
                Margin="0,0,0,8">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="3*" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>
                <Label Grid.Column="0" VerticalAlignment="Center" FontSize="11" Margin="0,0,4,0">
                    <StackPanel Orientation="Horizontal" ToolTip="{Binding PageValidation.Error}">
                        <iconPacks:PackIconModern
                            VerticalAlignment="Center"
                            Kind="Warning"
                            Margin="0,0,6,0"
                            Foreground="{Binding PageValidation, Converter={StaticResource validationResultColorConverter}}"
                            Visibility="{Binding PageValidation, Converter={StaticResource validationResultVisibilityConverter}}" />
                        <TextBlock
                            Text="Page:"
                            FontWeight="Bold"
                            VerticalAlignment="Center"
                            Foreground="{Binding PageValidation, Converter={StaticResource validationResultColorConverter}}" />
                    </StackPanel>
                </Label>
                <ComboBox
                    Grid.Column="1"
                    ItemsSource="{Binding LoadedPages}"
                    SelectedItem="{Binding SelectedPage, Mode=TwoWay}"
                    IsEnabled="{Binding CanChangePage}">
                    <ComboBox.ItemTemplate>
                        <DataTemplate DataType="local:LoadedPage">
                            <TextBlock Text="{Binding DisplayName}" />
                        </DataTemplate>
                    </ComboBox.ItemTemplate>
                </ComboBox>
                <Label
                    Grid.Column="2"
                    VerticalAlignment="Center"
                    FontSize="11"
                    Margin="10,0,4,0">
                    <TextBlock
                        Text="Page staff level:"
                        FontWeight="Bold"
                        VerticalAlignment="Center" />
                </Label>
                <ComboBox
                    Grid.Column="3"
                    ItemsSource="{Binding StaffLevels}"
                    SelectedItem="{Binding StaffLevel, Mode=TwoWay}" />
                <mah:DropDownButton
                    Grid.Column="4"
                    BorderThickness="0"
                    Content="Copy tag"
                    FontSize="8pt"
                    ItemsSource="{Binding PageTags}"
                    VerticalAlignment="Center"
                    Margin="8,0,0,0"
                    Padding="16,0"
                    IsEnabled="{Binding HasSelectedPage}">
                    <mah:DropDownButton.ItemContainerStyle>
                        <Style BasedOn="{StaticResource {x:Type MenuItem}}" TargetType="{x:Type MenuItem}">
                            <Setter Property="Command" Value="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type mah:DropDownButton}}, Path=DataContext.CopyPageTagCommand}" />
                            <Setter Property="CommandParameter" Value="{Binding}" />
                        </Style>
                    </mah:DropDownButton.ItemContainerStyle>
                </mah:DropDownButton>
            </Grid>

            <!-- You / Your first name -->
            <Grid
                Grid.Row="1"
                Margin="0,0,0,8">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <Label Grid.Column="0" VerticalAlignment="Center" FontSize="11" Margin="0,0,4,0">
                    <StackPanel Orientation="Horizontal" ToolTip="{Binding ScriptViewModel.YourNameValidation.Error}">
                        <iconPacks:PackIconModern
                            VerticalAlignment="Center"
                            Kind="Warning"
                            Margin="0,0,6,0"
                            Foreground="{Binding ScriptViewModel.YourNameValidation, Converter={StaticResource validationResultColorConverter}}"
                            Visibility="{Binding ScriptViewModel.YourNameValidation, Converter={StaticResource validationResultVisibilityConverter}}" />
                        <TextBlock
                            Text="You:"
                            FontWeight="Bold"
                            VerticalAlignment="Center"
                            Foreground="{Binding ScriptViewModel.YourNameValidation, Converter={StaticResource validationResultColorConverter}}" />
                    </StackPanel>
                </Label>
                <TextBox Text="{Binding ScriptViewModel.YourName, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Grid.Column="1" Height="20" />
                <Label Grid.Column="2" VerticalAlignment="Center" FontSize="11" Margin="10, 0, 4, 0">
                    <StackPanel Orientation="Horizontal" ToolTip="{Binding ScriptViewModel.YourFirstNameValidation.Error}">
                        <iconPacks:PackIconModern
                            VerticalAlignment="Center"
                            Kind="Warning"
                            Margin="0,0,6,0"
                            Foreground="{Binding ScriptViewModel.YourFirstNameValidation, Converter={StaticResource validationResultColorConverter}}"
                            Visibility="{Binding ScriptViewModel.YourFirstNameValidation, Converter={StaticResource validationResultVisibilityConverter}}" />
                        <TextBlock
                            Text="Your first name:"
                            FontWeight="Bold"
                            VerticalAlignment="Center"
                            Foreground="{Binding ScriptViewModel.YourFirstNameValidation, Converter={StaticResource validationResultColorConverter}}" />
                    </StackPanel>
                </Label>
                <TextBox Text="{Binding ScriptViewModel.YourFirstName, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Grid.Column="3" Height="20" />
            </Grid>

            <!-- Feature -->
            <Border
                Grid.Row="2"
                Margin="0,0,0,8"
                Padding="10,2"
                BorderBrush="{DynamicResource MahApps.Brushes.Control.Border}"
                BorderThickness="1"
                Background="Transparent"
                CornerRadius="4"
                >
                <Grid
                    Margin="0,0,0,4"
                    Visibility="{Binding SelectedFeatureVisibility}"
                    VerticalAlignment="Top">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />                 <!-- Is Picked -->
                        <RowDefinition Height="Auto" />                 <!-- Post Link -->
                        <RowDefinition Height="Auto" />                 <!-- User -->
                        <RowDefinition Height="Auto" />                 <!-- Tag Source -->
                        <RowDefinition Height="Auto" />                 <!-- Description -->
                        <RowDefinition Height="Auto" />                 <!-- Page Features -->
                        <RowDefinition Height="Auto" />                 <!-- Hub Features -->
                        <RowDefinition Height="Auto" />                 <!-- Validation -->
                    </Grid.RowDefinitions>

                    <!-- Is Picked -->
                    <Grid Grid.Row="0">
                        <mah:ToggleSwitch
                            IsOn="{Binding SelectedFeature.IsPicked, Mode=TwoWay}"
                            MinWidth="0"
                            FontSize="12"
                            FontWeight="Bold">
                            <TextBlock
                                Text="Is picked as feature"
                                Padding="0,0,0,2"
                                VerticalAlignment="Center" />
                        </mah:ToggleSwitch>
                    </Grid>

                    <!-- Post Link -->
                    <Grid Grid.Row="1" Margin="0,8,0,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <Label Grid.Column="0" VerticalAlignment="Center" FontSize="11" Margin="0,0,4,0">
                            <StackPanel Orientation="Horizontal" ToolTip="{Binding SelectedFeature.PostLinkValidation.Error}">
                                <iconPacks:PackIconModern
                                    VerticalAlignment="Center"
                                    Kind="Warning"
                                    Margin="0,0,6,0"
                                    Foreground="{Binding SelectedFeature.PostLinkValidation, Converter={StaticResource validationResultColorConverter}}"
                                    Visibility="{Binding SelectedFeature.PostLinkValidation, Converter={StaticResource validationResultVisibilityConverter}}" />
                                <TextBlock
                                    Text="Link to post:"
                                    FontWeight="Bold"
                                    VerticalAlignment="Center"
                                    Foreground="{Binding SelectedFeature.PostLinkValidation, Converter={StaticResource validationResultColorConverter}}" />
                            </StackPanel>
                        </Label>
                        <TextBox Grid.Column="1" Text="{Binding SelectedFeature.PostLink, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" VerticalAlignment="Center" Height="20" />
                        <Button Grid.Column="2" Command="{Binding PastePostLinkCommand}" Margin="8,0,0,0" VerticalAlignment="Center" Height="26">
                            <StackPanel Orientation="Horizontal" Margin="8,0">
                                <iconPacks:PackIconModern
                                    VerticalAlignment="Center"
                                    Kind="ClipboardPaste"
                                    Margin="0,0,2,0"
                                    Height="11"
                                    Foreground="{DynamicResource MahApps.Brushes.Accent}" />
                                <TextBlock VerticalAlignment="Center">Paste</TextBlock>
                            </StackPanel>
                        </Button>
                        <Button Grid.Column="3" Command="{Binding LoadPostCommand}" Margin="8,0,0,0" VerticalAlignment="Center" Height="26">
                            <StackPanel Orientation="Horizontal" Margin="8,0">
                                <iconPacks:PackIconCoolicons
                                    VerticalAlignment="Center"
                                    Kind="FileDownload"
                                    Margin="0,0,2,0"
                                    Height="11"
                                    Foreground="{DynamicResource MahApps.Brushes.Accent}" />
                                <TextBlock VerticalAlignment="Center">Load post</TextBlock>
                            </StackPanel>
                        </Button>
                    </Grid>

                    <!-- User -->
                    <Grid Grid.Row="2" Margin="0,8,0,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="2*" />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="2*" />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <Label Grid.Column="0" VerticalAlignment="Center" FontSize="11" Margin="0,0,4,0">
                            <StackPanel Orientation="Horizontal" ToolTip="{Binding SelectedFeature.UserAliasValidation.Error}">
                                <iconPacks:PackIconModern
                                    VerticalAlignment="Center"
                                    Kind="Warning"
                                    Margin="0,0,6,0"
                                    Foreground="{Binding SelectedFeature.UserAliasValidation, Converter={StaticResource validationResultColorConverter}}"
                                    Visibility="{Binding SelectedFeature.UserAliasValidation, Converter={StaticResource validationResultVisibilityConverter}}" />
                                <TextBlock
                                    Text="User alias:"
                                    FontWeight="Bold"
                                    VerticalAlignment="Center"
                                    Foreground="{Binding SelectedFeature.UserAliasValidation, Converter={StaticResource validationResultColorConverter}}" />
                            </StackPanel>
                        </Label>
                        <TextBox Grid.Column="1" Text="{Binding SelectedFeature.UserAlias, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" VerticalAlignment="Center" Height="20" />
                        <Label Grid.Column="2" VerticalAlignment="Center" FontSize="11" Margin="10,0,4,0">
                            <StackPanel Orientation="Horizontal" ToolTip="{Binding SelectedFeature.UserNameValidation.Error}">
                                <iconPacks:PackIconModern
                                    VerticalAlignment="Center"
                                    Kind="Warning"
                                    Margin="0,0,6,0"
                                    Foreground="{Binding SelectedFeature.UserNameValidation, Converter={StaticResource validationResultColorConverter}}"
                                    Visibility="{Binding SelectedFeature.UserNameValidation, Converter={StaticResource validationResultVisibilityConverter}}" />
                                <TextBlock
                                    Text="User name:"
                                    FontWeight="Bold"
                                    VerticalAlignment="Center"
                                    Foreground="{Binding SelectedFeature.UserNameValidation, Converter={StaticResource validationResultColorConverter}}" />
                            </StackPanel>
                        </Label>
                        <TextBox Grid.Column="3" Text="{Binding SelectedFeature.UserName, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" VerticalAlignment="Center" Height="20" />
                        <Label Grid.Column="4" VerticalAlignment="Center" FontSize="11" Margin="10, 0, 4, 0">
                            <StackPanel Orientation="Horizontal" ToolTip="{Binding SelectedFeature.UserLevelValidation.Error}">
                                <iconPacks:PackIconModern
                                    VerticalAlignment="Center"
                                    Kind="Warning"
                                    Margin="0,0,6,0"
                                    Foreground="{Binding SelectedFeature.UserLevelValidation, Converter={StaticResource validationResultColorConverter}}"
                                    Visibility="{Binding SelectedFeature.UserLevelValidation, Converter={StaticResource validationResultVisibilityConverter}}" />
                                <TextBlock
                                    Text="User level:"
                                    FontWeight="Bold"
                                    VerticalAlignment="Center"
                                    Foreground="{Binding SelectedFeature.UserLevelValidation, Converter={StaticResource validationResultColorConverter}}" />
                            </StackPanel>
                        </Label>
                        <ComboBox Grid.Column="5" ItemsSource="{Binding Memberships}" SelectedItem="{Binding SelectedFeature.UserLevel, Mode=TwoWay}" VerticalAlignment="Center" />
                        <mah:ToggleSwitch
                            Grid.Column="6"
                            Margin="16,0,0,0"
                            IsOn="{Binding SelectedFeature.UserIsTeammate, Mode=TwoWay}"
                            VerticalAlignment="Center"
                            MinWidth="0"
                            FontSize="12"
                            FontWeight="Bold">
                            <TextBlock
                                Text="Teammate"
                                Padding="0,0,0,2"
                                VerticalAlignment="Center" />
                        </mah:ToggleSwitch>
                    </Grid>

                    <!-- Tag source -->
                    <Grid Grid.Row="3" Margin="0,8,0,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />               <!-- label -->
                            <ColumnDefinition Width="200" />                <!-- tag source -->
                            <ColumnDefinition Width="Auto" />               <!-- photo featured on page -->
                            <ColumnDefinition Width="Auto" />               <!-- photo featured on hub -->
                            <ColumnDefinition Width="Auto" />               <!-- label -->
                            <ColumnDefinition Width="*" MaxWidth="200" />   <!-- photo featured date -->
                            <ColumnDefinition Width="Auto" />               <!-- label -->
                            <ColumnDefinition Width="*" MaxWidth="200" />   <!-- photo featured page -->
                            <ColumnDefinition Width="*" />                  <!-- spacer -->
                        </Grid.ColumnDefinitions>
                        <Label Grid.Column="0" VerticalAlignment="Center" FontSize="11" Margin="0, 0, 4, 0">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock
                                    Text="Found using:"
                                    FontWeight="Bold"
                                    VerticalAlignment="Center" />
                            </StackPanel>
                        </Label>
                        <ComboBox Grid.Column="1" ItemsSource="{Binding TagSources}" SelectedItem="{Binding SelectedFeature.TagSource, Mode=TwoWay}" VerticalAlignment="Center" />
                        <mah:ToggleSwitch
                            Grid.Column="2"
                            Margin="16,0,0,0"
                            IsOn="{Binding SelectedFeature.PhotoFeaturedOnPage, Mode=TwoWay}"
                            MinWidth="0"
                            FontSize="12"
                            FontWeight="Bold"
                            VerticalAlignment="Center">
                            <TextBlock
                                Text="Photo featured on page"
                                Padding="0,0,0,2"
                                VerticalAlignment="Center" />
                        </mah:ToggleSwitch>
                        <mah:ToggleSwitch
                            Grid.Column="3"
                            Margin="16,0,0,0"
                            IsOn="{Binding SelectedFeature.PhotoFeaturedOnHub, Mode=TwoWay}"
                            MinWidth="0"
                            FontSize="12"
                            FontWeight="Bold"
                            VerticalAlignment="Center">
                            <TextBlock
                                Text="Photo featured on hub"
                                Padding="0,0,0,2"
                                VerticalAlignment="Center" />
                        </mah:ToggleSwitch>
                        <Label
                            Grid.Column="4"
                            VerticalAlignment="Center"
                            FontSize="11"
                            Margin="10,0,4,0"
                            Visibility="{Binding SelectedFeature.PhotoFeaturedOnHub, Converter={StaticResource BooleanToVisibilityConverter}}">
                            <StackPanel Orientation="Horizontal" ToolTip="{Binding SelectedFeature.PhotoLastFeaturedOnHubValidation.Error}">
                                <iconPacks:PackIconModern
                                        VerticalAlignment="Center"
                                        Kind="Warning"
                                        Margin="0,0,6,0"
                                        Foreground="{Binding SelectedFeature.PhotoLastFeaturedOnHubValidation, Converter={StaticResource validationResultColorConverter}}"
                                        Visibility="{Binding SelectedFeature.PhotoLastFeaturedOnHubValidation, Converter={StaticResource validationResultVisibilityConverter}}" />
                                <TextBlock
                                        Text="Last date featured:"
                                        FontWeight="Bold"
                                        VerticalAlignment="Center"
                                        Foreground="{Binding SelectedFeature.PhotoLastFeaturedOnHubValidation, Converter={StaticResource validationResultColorConverter}}" />
                            </StackPanel>
                        </Label>
                        <TextBox
                            Grid.Column="5"
                            Text="{Binding SelectedFeature.PhotoLastFeaturedOnHub, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                            Visibility="{Binding SelectedFeature.PhotoFeaturedOnHub, Converter={StaticResource BooleanToVisibilityConverter}}"
                            VerticalAlignment="Center"
                            Height="20" />
                        <Label
                            Grid.Column="6"
                            VerticalAlignment="Center"
                            FontSize="11" Margin="10,0,4,0"
                            Visibility="{Binding SelectedFeature.PhotoFeaturedOnHub, Converter={StaticResource BooleanToVisibilityConverter}}">
                            <StackPanel Orientation="Horizontal" ToolTip="{Binding SelectedFeature.PhotoLastFeaturedPageValidation.Error}">
                                <iconPacks:PackIconModern
                                        VerticalAlignment="Center"
                                        Kind="Warning"
                                        Margin="0,0,6,0"
                                        Foreground="{Binding SelectedFeature.PhotoLastFeaturedPageValidation, Converter={StaticResource validationResultColorConverter}}"
                                        Visibility="{Binding SelectedFeature.PhotoLastFeaturedPageValidation, Converter={StaticResource validationResultVisibilityConverter}}" />
                                <TextBlock
                                        Text="on page:"
                                        FontWeight="Bold"
                                        VerticalAlignment="Center"
                                        Foreground="{Binding SelectedFeature.PhotoLastFeaturedPageValidation, Converter={StaticResource validationResultColorConverter}}" />
                            </StackPanel>
                        </Label>
                        <TextBox
                            Grid.Column="7"
                            Text="{Binding SelectedFeature.PhotoLastFeaturedPage, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                            Visibility="{Binding SelectedFeature.PhotoFeaturedOnHub, Converter={StaticResource BooleanToVisibilityConverter}}"
                            VerticalAlignment="Center"
                            Height="20" />
                    </Grid>

                    <!-- Description -->
                    <Grid Grid.Row="4" Margin="0,8,0,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <Label Grid.Column="0" VerticalAlignment="Center" FontSize="11" Margin="0,0,4,0">
                            <StackPanel Orientation="Horizontal">
                                <iconPacks:PackIconModern
                                        VerticalAlignment="Center"
                                        Kind="Warning"
                                        Margin="0,0,6,0"
                                        Foreground="{Binding SelectedFeature.FeatureDescriptionValidation, Converter={StaticResource validationResultColorConverter}}"
                                        Visibility="{Binding SelectedFeature.FeatureDescriptionValidation, Converter={StaticResource validationResultVisibilityConverter}}" />
                                <TextBlock
                                    Text="Description:"
                                    FontWeight="Bold"
                                    VerticalAlignment="Center"
                                    Foreground="{Binding SelectedFeature.FeatureDescriptionValidation, Converter={StaticResource validationResultColorConverter}}" />
                            </StackPanel>
                        </Label>
                        <TextBox Grid.Column="1" Text="{Binding SelectedFeature.FeatureDescription, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" VerticalAlignment="Center" Height="20" />
                    </Grid>

                    <!-- Page features -->
                    <Grid Grid.Row="5" Margin="0,8,0,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <mah:ToggleSwitch
                            Grid.Column="0"
                            IsOn="{Binding SelectedFeature.UserHasFeaturesOnPage}"
                            MinWidth="0"
                            FontSize="12"
                            FontWeight="Bold"
                            VerticalAlignment="Center">
                            <TextBlock
                                Text="User featured on page"
                                Padding="0,0,0,2"
                                VerticalAlignment="Center" />
                        </mah:ToggleSwitch>
                        <Grid
                            Grid.Column="1"
                            Visibility="{Binding SelectedFeature.UserHasFeaturesOnPage, Converter={StaticResource BooleanToVisibilityConverter}}"
                            Margin="8,0,0,0"
                            VerticalAlignment="Center">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />                   <!-- label -->
                                <ColumnDefinition Width="*" />                      <!-- last date featured -->
                                <ColumnDefinition Width="Auto" />                   <!-- label -->
                                <ColumnDefinition Width="*" MaxWidth="120" />       <!-- features on page -->
                            </Grid.ColumnDefinitions>
                            <Label Grid.Column="0" VerticalAlignment="Center" FontSize="11" Margin="0,0,4,0">
                                <StackPanel Orientation="Horizontal" ToolTip="{Binding SelectedFeature.LastFeaturedOnPageValidation.Error}">
                                    <iconPacks:PackIconModern
                                        VerticalAlignment="Center"
                                        Kind="Warning"
                                        Margin="0,0,6,0"
                                        Foreground="{Binding SelectedFeature.LastFeaturedOnPageValidation, Converter={StaticResource validationResultColorConverter}}"
                                        Visibility="{Binding SelectedFeature.LastFeaturedOnPageValidation, Converter={StaticResource validationResultVisibilityConverter}}" />
                                    <TextBlock
                                        Text="Last date featured:"
                                        FontWeight="Bold"
                                        VerticalAlignment="Center"
                                        Foreground="{Binding SelectedFeature.LastFeaturedOnPageValidation, Converter={StaticResource validationResultColorConverter}}" />
                                </StackPanel>
                            </Label>
                            <TextBox Grid.Column="1" Text="{Binding SelectedFeature.LastFeaturedOnPage, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" VerticalAlignment="Center" Height="20" />
                            <Label Grid.Column="2" VerticalAlignment="Center" FontSize="11" Margin="10,0,4,0">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock
                                    Text="Features on page:"
                                    FontWeight="Bold"
                                    VerticalAlignment="Center" />
                                </StackPanel>
                            </Label>
                            <ComboBox Grid.Column="3" ItemsSource="{Binding FeaturedCounts}" SelectedItem="{Binding SelectedFeature.FeatureCountOnPage, Mode=TwoWay}" VerticalAlignment="Center" />
                        </Grid>
                        <Grid
                            Grid.Column="2"
                            VerticalAlignment="Center">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />                   <!-- copy page tag -->
                                <ColumnDefinition Width="Auto" />                   <!-- copy RAW page tag -->
                            </Grid.ColumnDefinitions>
                            <Button Grid.Column="0" Command="{Binding CopyPageFeatureTagCommand}" VerticalAlignment="Center" Height="26" Margin="8,0,0,0">
                                <StackPanel Orientation="Horizontal" Margin="4,0">
                                    <iconPacks:PackIconFeatherIcons
                                        VerticalAlignment="Center"
                                        Kind="Clipboard"
                                        Margin="0,0,6,0"
                                        Height="11"
                                        Foreground="{DynamicResource MahApps.Brushes.Accent}" />
                                    <TextBlock VerticalAlignment="Center">Copy tag</TextBlock>
                                </StackPanel>
                            </Button>
                            <Button Grid.Column="1" Command="{Binding CopyRawPageFeatureTagCommand}" VerticalAlignment="Center" Height="26" Margin="8,0,0,0" Visibility="{Binding SnapHubVisibility}">
                                <StackPanel Orientation="Horizontal" Margin="4,0">
                                    <iconPacks:PackIconFeatherIcons
                                        VerticalAlignment="Center"
                                        Kind="Clipboard"
                                        Margin="0,0,6,0"
                                        Height="11"
                                        Foreground="{DynamicResource MahApps.Brushes.Accent}" />
                                    <TextBlock VerticalAlignment="Center">Copy RAW tag</TextBlock>
                                </StackPanel>
                            </Button>
                        </Grid>
                    </Grid>

                    <!-- Hub features -->
                    <Grid Grid.Row="6" Margin="0,8,0,0" Visibility="{Binding SnapOrClickHubVisibility}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <mah:ToggleSwitch
                            Grid.Column="0"
                            IsOn="{Binding SelectedFeature.UserHasFeaturesOnHub}"
                            MinWidth="0"
                            FontSize="12"
                            FontWeight="Bold"
                            VerticalAlignment="Center">
                            <TextBlock
                                Text="User featured on hub"
                                Padding="0,0,0,2"
                                VerticalAlignment="Center" />
                        </mah:ToggleSwitch>
                        <Grid
                            Grid.Column="1"
                            Visibility="{Binding SelectedFeature.UserHasFeaturesOnHub, Converter={StaticResource BooleanToVisibilityConverter}}"
                            Margin="8,0,0,0"
                            VerticalAlignment="Center">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />                   <!-- label -->
                                <ColumnDefinition Width="*" />                      <!-- last date featured -->
                                <ColumnDefinition Width="Auto" />                   <!-- label -->
                                <ColumnDefinition Width="*" />                      <!-- last page -->
                                <ColumnDefinition Width="Auto" />                   <!-- label -->
                                <ColumnDefinition Width="*" MaxWidth="120" />       <!-- features on hub -->
                            </Grid.ColumnDefinitions>
                            <Label Grid.Column="0" VerticalAlignment="Center" FontSize="11" Margin="0,0,4,0">
                                <StackPanel Orientation="Horizontal" ToolTip="{Binding SelectedFeature.LastFeaturedOnHubValidation.Error}">
                                    <iconPacks:PackIconModern
                                        VerticalAlignment="Center"
                                        Kind="Warning"
                                        Margin="0,0,6,0"
                                        Foreground="{Binding SelectedFeature.LastFeaturedOnHubValidation, Converter={StaticResource validationResultColorConverter}}"
                                        Visibility="{Binding SelectedFeature.LastFeaturedOnHubValidation, Converter={StaticResource validationResultVisibilityConverter}}" />
                                    <TextBlock
                                        Text="Last date featured:"
                                        FontWeight="Bold"
                                        VerticalAlignment="Center"
                                        Foreground="{Binding SelectedFeature.LastFeaturedOnHubValidation, Converter={StaticResource validationResultColorConverter}}" />
                                </StackPanel>
                            </Label>
                            <TextBox Grid.Column="1" Text="{Binding SelectedFeature.LastFeaturedOnHub, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" VerticalAlignment="Center" Height="20" />
                            <Label Grid.Column="2" VerticalAlignment="Center" FontSize="11" Margin="10,0,4,0">
                                <StackPanel Orientation="Horizontal" ToolTip="{Binding SelectedFeature.LastFeaturedPageValidation.Error}">
                                    <iconPacks:PackIconModern
                                        VerticalAlignment="Center"
                                        Kind="Warning"
                                        Margin="0,0,6,0"
                                        Foreground="{Binding SelectedFeature.LastFeaturedPageValidation, Converter={StaticResource validationResultColorConverter}}"
                                        Visibility="{Binding SelectedFeature.LastFeaturedPageValidation, Converter={StaticResource validationResultVisibilityConverter}}" />
                                    <TextBlock
                                        Text="on page:"
                                        FontWeight="Bold"
                                        VerticalAlignment="Center"
                                        Foreground="{Binding SelectedFeature.LastFeaturedPageValidation, Converter={StaticResource validationResultColorConverter}}" />
                                </StackPanel>
                            </Label>
                            <TextBox Grid.Column="3" Text="{Binding SelectedFeature.LastFeaturedPage, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" VerticalAlignment="Center" Height="20" />
                            <Label Grid.Column="4" VerticalAlignment="Center" FontSize="11" Margin="10,0,4,0">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock
                                    Text="Features on hub:"
                                    FontWeight="Bold"
                                    VerticalAlignment="Center" />
                                </StackPanel>
                            </Label>
                            <ComboBox Grid.Column="5" ItemsSource="{Binding FeaturedCounts}" SelectedItem="{Binding SelectedFeature.FeatureCountOnHub, Mode=TwoWay}" VerticalAlignment="Center" />
                        </Grid>
                        <Grid
                            Grid.Column="2"
                            VerticalAlignment="Center">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />                   <!-- copy hub tag -->
                                <ColumnDefinition Width="Auto" />                   <!-- copy RAW hub tag -->
                            </Grid.ColumnDefinitions>
                            <Button Grid.Column="0" Command="{Binding CopyHubFeatureTagCommand}" VerticalAlignment="Center" Height="26" Margin="8,0,0,0">
                                <StackPanel Orientation="Horizontal" Margin="4,0">
                                    <iconPacks:PackIconFeatherIcons
                                        VerticalAlignment="Center"
                                        Kind="Clipboard"
                                        Margin="0,0,6,0"
                                        Height="11"
                                        Foreground="{DynamicResource MahApps.Brushes.Accent}" />
                                    <TextBlock VerticalAlignment="Center">Copy tag</TextBlock>
                                </StackPanel>
                            </Button>
                            <Button Grid.Column="1" Command="{Binding CopyRawHubFeatureTagCommand}" VerticalAlignment="Center" Height="26" Margin="8,0,0,0" Visibility="{Binding SnapHubVisibility}">
                                <StackPanel Orientation="Horizontal" Margin="4,0">
                                    <iconPacks:PackIconFeatherIcons
                                        VerticalAlignment="Center"
                                        Kind="Clipboard"
                                        Margin="0,0,6,0"
                                        Height="11"
                                        Foreground="{DynamicResource MahApps.Brushes.Accent}" />
                                    <TextBlock VerticalAlignment="Center">Copy RAW tag</TextBlock>
                                </StackPanel>
                            </Button>
                        </Grid>
                    </Grid>

                    <!-- Validation -->
                    <Grid Grid.Row="7" Margin="0,8,0,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" MaxWidth="200" />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" MaxWidth="200" />
                        </Grid.ColumnDefinitions>
                        <Label
                            Grid.Column="0"
                            VerticalAlignment="Center"
                            FontSize="11"
                            Margin="0, 0, 4, 0">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock
                                    Text="Validation:"
                                    FontWeight="Bold"
                                    VerticalAlignment="Center" />
                            </StackPanel>
                        </Label>
                        <mah:ToggleSwitch
                            Grid.Column="1"
                            VerticalAlignment="Center"
                            IsOn="{Binding SelectedFeature.TooSoonToFeatureUser, Mode=TwoWay}"
                            MinWidth="0"
                            FontSize="12"
                            FontWeight="Bold">
                            <TextBlock
                                Text="Too soon to feature user"
                                Padding="0,0,0,2"
                                VerticalAlignment="Center" />
                        </mah:ToggleSwitch>
                        <Label
                            Grid.Column="2"
                            VerticalAlignment="Center"
                            FontSize="11"
                            Margin="10, 0, 4, 0">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock
                                    Text="TinEye:"
                                    FontWeight="Bold"
                                    VerticalAlignment="Center" />
                            </StackPanel>
                        </Label>
                        <ComboBox
                            Grid.Column="3"
                            ItemsSource="{Binding TinEyeResults}" SelectedItem="{Binding SelectedFeature.TinEyeResults, Mode=TwoWay}"
                            VerticalAlignment="Center" />
                        <Label
                            Grid.Column="4"
                            VerticalAlignment="Center"
                            FontSize="11"
                            Margin="10, 0, 4, 0">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock
                                    Text="AI check:"
                                    FontWeight="Bold"
                                    VerticalAlignment="Center" />
                            </StackPanel>
                        </Label>
                        <ComboBox
                            Grid.Column="5"
                            ItemsSource="{Binding AiCheckResults}"
                            SelectedItem="{Binding SelectedFeature.AiCheckResults, Mode=TwoWay}"
                            VerticalAlignment="Center" />
                    </Grid>
                </Grid>
            </Border>

            <!-- Feature Buttons -->
            <Grid
                Grid.Row="3"
                Margin="0,2,0,4">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>

                <!-- Add feature -->
                <Button Grid.Column="1" Command="{Binding AddFeatureCommand}" Margin="12,0,0,0">
                    <StackPanel Orientation="Horizontal">
                        <iconPacks:PackIconModern
                                VerticalAlignment="Center"
                                Kind="UserAdd"
                                Margin="0,0,6,0"
                                Foreground="{DynamicResource MahApps.Brushes.Accent}" />
                        <TextBlock VerticalAlignment="Center">Add feature</TextBlock>
                    </StackPanel>
                </Button>

                <!-- Remove feature -->
                <Button Grid.Column="2" Command="{Binding RemoveFeatureCommand}" IsEnabled="{Binding HasSelectedFeature}" Margin="12,0,0,0">
                    <StackPanel Orientation="Horizontal">
                        <iconPacks:PackIconModern
                            VerticalAlignment="Center"
                            Kind="UserDelete"
                            Margin="0,0,6,0"
                            Foreground="{DynamicResource MahApps.Brushes.Control.Validation}" />
                        <TextBlock VerticalAlignment="Center">Remove feature</TextBlock>
                    </StackPanel>
                </Button>
            </Grid>

            <!-- Feature List -->
            <Border
                Grid.Row="4"
                Margin="0,1,0,0"
                CornerRadius="4"
                BorderThickness="1"
                BorderBrush="{DynamicResource MahApps.Brushes.Control.Border}">
                <ListBox x:Name="FeaturesListBox" ItemsSource="{Binding Features}" SelectedItem="{Binding SelectedFeature}" Margin="3">
                    <ListBox.ItemTemplate>
                        <DataTemplate DataType="local:Feature">
                            <Grid Margin="8">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="40" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="Auto" />
                                </Grid.ColumnDefinitions>
                                <iconPacks:PackIconModern
                                    Grid.Column="0"
                                    VerticalAlignment="Center"
                                    Kind="{Binding Icon}"
                                    Width="28"
                                    Height="28"
                                    Margin="0,0,6,0"
                                    Foreground="{Binding IconColor}" />
                                <StackPanel Grid.Column="1" Orientation="Vertical" HorizontalAlignment="Stretch" VerticalAlignment="Top">
                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" VerticalAlignment="Center">
                                        <TextBlock Margin="0,0,8,0" VerticalAlignment="Center">Feature:</TextBlock>
                                        <TextBlock Text="{Binding UserName}" VerticalAlignment="Center" Visibility="{Binding UserName, Converter={StaticResource valueVisibilityConverter}, ConverterParameter=true}" />
                                        <TextBlock Text="user name" FontStyle="Italic" VerticalAlignment="Center" Visibility="{Binding UserName, Converter={StaticResource valueVisibilityConverter}, ConverterParameter=false}" />
                                        <TextBlock Margin="8,0" VerticalAlignment="Center">|</TextBlock>
                                        <TextBlock Text="{Binding UserAlias}" VerticalAlignment="Center" Visibility="{Binding UserAlias, Converter={StaticResource valueVisibilityConverter}, ConverterParameter=true}" />
                                        <TextBlock Text="user alias" FontStyle="Italic" VerticalAlignment="Center" Visibility="{Binding UserAlias, Converter={StaticResource valueVisibilityConverter}, ConverterParameter=false}" />
                                        <TextBlock Margin="8,0" VerticalAlignment="Center">|</TextBlock>
                                        <TextBlock Text="{Binding FeatureDescription}" VerticalAlignment="Center" Visibility="{Binding FeatureDescription, Converter={StaticResource valueVisibilityConverter}, ConverterParameter=true}" />
                                        <TextBlock Text="description" FontStyle="Italic" VerticalAlignment="Center" Visibility="{Binding FeatureDescription, Converter={StaticResource valueVisibilityConverter}, ConverterParameter=false}" />
                                        <TextBlock Margin="8,0" VerticalAlignment="Center">|</TextBlock>
                                        <iconPacks:PackIconUnicons
                                            Width="14"
                                            Margin="0,0,6,0"
                                            Padding="0,2,0,0"
                                            Kind="ImageCheckLine"
                                            ToolTip="Photo featured on hub"
                                            Foreground="{Binding PhotoFeaturedOnHub, Converter={StaticResource booleanToIndicatorColorConverter}}"
                                            Opacity="{Binding PhotoFeaturedOnHub, Converter={StaticResource booleanToIndicatorOpacityConverter}}" />
                                        <iconPacks:PackIconMaterial
                                            Width="14"
                                            Margin="0,0,6,0"
                                            Padding="0,2,0,0"
                                            Kind="AccountCheckOutline"
                                            ToolTip="User featured on page"
                                            Foreground="{Binding UserHasFeaturesOnPage, Converter={StaticResource booleanToIndicatorColorConverter}}"
                                            Opacity="{Binding UserHasFeaturesOnPage, Converter={StaticResource booleanToIndicatorOpacityConverter}}" />
                                        <iconPacks:PackIconMaterial
                                            Width="14"
                                            Margin="0,0,6,0"
                                            Padding="0,2,0,0"
                                            Kind="AccountCheck"
                                            ToolTip="User featured on hub"
                                            Foreground="{Binding UserHasFeaturesOnHub, Converter={StaticResource booleanToIndicatorColorConverter}}"
                                            Opacity="{Binding UserHasFeaturesOnHub, Converter={StaticResource booleanToIndicatorOpacityConverter}}" />
                                        <iconPacks:PackIconMaterial
                                            Width="14"
                                            Margin="0,0,6,0"
                                            Padding="0,2,0,0"
                                            Kind="AccountMultiple"
                                            ToolTip="User is teammate"
                                            Foreground="{Binding UserIsTeammate, Converter={StaticResource booleanToIndicatorColorConverter}}"
                                            Opacity="{Binding UserIsTeammate, Converter={StaticResource booleanToIndicatorOpacityConverter}}" />
                                        <TextBlock
                                            Margin="2,0,8,0"
                                            Text="|"
                                            VerticalAlignment="Center"
                                            Visibility="{Binding HasValidationErrors, Converter={StaticResource BooleanToVisibilityConverter}}" />
                                        <iconPacks:PackIconMaterial
                                            Width="14"
                                            Margin="0,0,6,0"
                                            Padding="0,2,0,0"
                                            Kind="ShieldAlert"
                                            ToolTip="{Binding ValidationErrorSummary}"
                                            Foreground="{Binding HasValidationErrors, Converter={StaticResource booleanToErrorIndicatorColorConverter}}"
                                            Visibility="{Binding HasValidationErrors, Converter={StaticResource BooleanToVisibilityConverter}}" />
                                        <TextBlock
                                            Margin="2,0,8,0"
                                            Text="|"
                                            VerticalAlignment="Center"
                                            Visibility="{Binding HasValidationWarnings, Converter={StaticResource BooleanToVisibilityConverter}}" />
                                        <iconPacks:PackIconMaterial
                                            Width="14"
                                            Margin="0,0,6,0"
                                            Padding="0,2,0,0"
                                            Kind="ShieldAlert"
                                            ToolTip="{Binding ValidationWarningSummary}"
                                            Foreground="{Binding HasValidationWarnings, Converter={StaticResource booleanToWarningIndicatorColorConverter}}"
                                            Visibility="{Binding HasValidationWarnings, Converter={StaticResource BooleanToVisibilityConverter}}" />
                                    </StackPanel>
                                    <StackPanel Orientation="Horizontal"  HorizontalAlignment="Left" VerticalAlignment="Center">
                                        <TextBlock Text="{Binding PostLink}" FontSize="10" Visibility="{Binding PostLink, Converter={StaticResource valueVisibilityConverter}, ConverterParameter=true}" />
                                        <TextBlock Text="link to post" FontStyle="Italic" FontSize="10" Visibility="{Binding PostLink, Converter={StaticResource valueVisibilityConverter}, ConverterParameter=false}" />
                                    </StackPanel>
                                </StackPanel>
                                <Button
                                    Grid.Column="2"
                                    HorizontalAlignment="Right"
                                    BorderThickness="0"
                                    Margin="2,0"
                                    Command="{Binding PickFeatureCommand}"
                                    CommandParameter="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type ListBox}}, Path=DataContext}"
                                    IsEnabled="{Binding IsAllowed}"
                                    Visibility="{Binding IsPicked, Converter={StaticResource booleanToVisibilityConverter}}">
                                    <StackPanel Orientation="Horizontal" Margin="4,0">
                                        <iconPacks:PackIconMaterial
                                            VerticalAlignment="Center"
                                            Kind="Star"
                                            Margin="0"
                                            Foreground="{DynamicResource MahApps.Brushes.Accent}" />
                                        <TextBlock
                                            VerticalAlignment="Center"
                                            Margin="6,2,0,2"
                                            Text="Unpick" />
                                    </StackPanel>
                                </Button>
                                <Button
                                    Grid.Column="2"
                                    HorizontalAlignment="Right"
                                    BorderThickness="0"
                                    Margin="2,0"
                                    Command="{Binding PickFeatureCommand}"
                                    CommandParameter="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type ListBox}}, Path=DataContext}"
                                    IsEnabled="{Binding IsAllowed}"
                                    Visibility="{Binding IsPicked, Converter={StaticResource booleanToVisibilityConverter}, ConverterParameter=false}">
                                    <StackPanel Orientation="Horizontal" Margin="4,0">
                                        <iconPacks:PackIconMaterial
                                            VerticalAlignment="Center"
                                            Kind="Star"
                                            Margin="0"
                                            Foreground="{DynamicResource MahApps.Brushes.Accent}" />
                                        <TextBlock
                                            VerticalAlignment="Center"
                                            Margin="6,2,4,2"
                                            Text="Pick" />
                                    </StackPanel>
                                </Button>
                                <Button
                                    Grid.Column="3"
                                    HorizontalAlignment="Right"
                                    BorderThickness="0"
                                    Margin="2,0"
                                    Command="{Binding DeleteFeatureCommand}"
                                    CommandParameter="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type ListBox}}, Path=DataContext}">
                                    <StackPanel Orientation="Horizontal" Margin="4,0">
                                        <iconPacks:PackIconMaterial
                                            VerticalAlignment="Center"
                                            Kind="TrashCan"
                                            Margin="0"
                                            Foreground="{DynamicResource MahApps.Brushes.Accent}" />
                                        <TextBlock
                                            VerticalAlignment="Center"
                                            Margin="6,2,4,2"
                                            Text="Remove" />
                                    </StackPanel>
                                </Button>
                                <Button
                                    Grid.Column="4"
                                    HorizontalAlignment="Right"
                                    BorderThickness="0"
                                    Margin="2,0"
                                    Command="{Binding OpenFeatureInVeroScriptsCommand}"
                                    CommandParameter="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type ListBox}}, Path=DataContext}"
                                    Visibility="{Binding IsPickedAndAllowed, Converter={StaticResource BooleanToVisibilityConverter}}">
                                    <StackPanel Orientation="Horizontal" Margin="4,0">
                                        <iconPacks:PackIconMaterial
                                            VerticalAlignment="Center"
                                            Kind="BookEdit"
                                            Margin="0"
                                            Foreground="{DynamicResource MahApps.Brushes.Accent}" />
                                        <TextBlock
                                            VerticalAlignment="Center"
                                            Margin="6,2,4,2"
                                            Text="Scripts" />
                                    </StackPanel>
                                </Button>
                                <Button
                                    Grid.Column="5"
                                    HorizontalAlignment="Right"
                                    BorderThickness="0"
                                    Margin="2,0"
                                    Command="{Binding EditPersonalMessageCommand}"
                                    CommandParameter="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type ListBox}}, Path=DataContext}"
                                    Visibility="{Binding IsPickedAndAllowed, Converter={StaticResource BooleanToVisibilityConverter}}">
                                    <StackPanel Orientation="Horizontal" Margin="4,0">
                                        <iconPacks:PackIconMaterial
                                            VerticalAlignment="Center"
                                            Kind="CommentEdit"
                                            Margin="0"
                                            Foreground="{DynamicResource MahApps.Brushes.Accent}" />
                                        <TextBlock
                                            VerticalAlignment="Center"
                                            Margin="6,2,4,2"
                                            Text="Personal message" />
                                    </StackPanel>
                                </Button>
                            </Grid>
                        </DataTemplate>
                    </ListBox.ItemTemplate>
                </ListBox>
            </Border>
        </Grid>

        <!-- SCRIPT VIEW -->
        <Grid
            Visibility="{Binding ScriptViewVisibility}"
            Grid.Row="1"
            Margin="16,8,16,8">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />                 <!-- Page / Staff level -->
                <RowDefinition Height="Auto" />                 <!-- You / Your first name -->
                <RowDefinition Height="Auto" />                 <!-- User / Level / Options -->
                <RowDefinition Height="Auto" />                 <!-- Feature script header -->
                <RowDefinition Height="5*" />                   <!-- Feature script -->
                <RowDefinition Height="Auto" />                 <!-- Comment script header -->
                <RowDefinition Height="3*" />                   <!-- Comment script -->
                <RowDefinition Height="Auto" />                 <!-- Original post script header -->
                <RowDefinition Height="2*" />                   <!-- Original post script -->
                <RowDefinition Height="Auto" />                 <!-- New membership script header -->
                <RowDefinition Height="3*" />                   <!-- New membership script -->
            </Grid.RowDefinitions>

            <!-- Page / Staff level -->
            <Grid
                Grid.Row="0"
                Visibility="{Binding ScriptViewModel.CanChangePage, Converter={StaticResource BooleanToVisibilityConverter}}"
                Margin="0,0,0,8">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="3*" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <Label Grid.Column="0" VerticalAlignment="Center" FontSize="11" Margin="0,0,4,0">
                    <StackPanel Orientation="Horizontal" ToolTip="{Binding ScriptViewModel.PageValidation.Error}">
                        <iconPacks:PackIconModern
                            VerticalAlignment="Center"
                            Kind="Warning"
                            Margin="0,0,6,0"
                            Foreground="{Binding ScriptViewModel.PageValidation, Converter={StaticResource validationResultColorConverter}}"
                            Visibility="{Binding ScriptViewModel.PageValidation, Converter={StaticResource validationResultVisibilityConverter}}" />
                        <TextBlock
                            Text="Page:"
                            FontWeight="Bold"
                            VerticalAlignment="Center"
                            Foreground="{Binding ScriptViewModel.PageValidation, Converter={StaticResource validationResultColorConverter}}" />
                    </StackPanel>
                </Label>
                <ComboBox Grid.Column="1" ItemsSource="{Binding LoadedPages}" SelectedItem="{Binding SelectedPage, Mode=TwoWay}" IsEnabled="{Binding ScriptViewModel.CanChangePage}">
                    <ComboBox.ItemTemplate>
                        <DataTemplate DataType="local:LoadedPage">
                            <TextBlock Text="{Binding DisplayName}" />
                        </DataTemplate>
                    </ComboBox.ItemTemplate>
                </ComboBox>
                <Label Grid.Column="2" VerticalAlignment="Center" FontSize="11" Margin="10,0,4,0">
                    <TextBlock Text="Page staff level:" FontWeight="Bold" />
                </Label>
                <ComboBox Grid.Column="3" ItemsSource="{Binding ScriptViewModel.StaffLevels}" SelectedItem="{Binding ScriptViewModel.StaffLevel, Mode=TwoWay}" IsEnabled="{Binding ScriptViewModel.CanChangeStaffLevel}" />
            </Grid>

            <!-- You / Your first name -->
            <Grid
                Grid.Row="1"
                Visibility="{Binding ScriptViewModel.CanChangePage, Converter={StaticResource BooleanToVisibilityConverter}}"
                Margin="0,0,0,8">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <Label Grid.Column="0" VerticalAlignment="Center" FontSize="11" Margin="0,0,4,0">
                    <StackPanel Orientation="Horizontal" ToolTip="{Binding ScriptViewModel.YourNameValidation.Error}">
                        <iconPacks:PackIconModern
                            VerticalAlignment="Center"
                            Kind="Warning"
                            Margin="0,0,6,0"
                            Foreground="{Binding ScriptViewModel.YourNameValidation, Converter={StaticResource validationResultColorConverter}}"
                            Visibility="{Binding ScriptViewModel.YourNameValidation, Converter={StaticResource validationResultVisibilityConverter}}" />
                        <TextBlock
                            Text="You:"
                            FontWeight="Bold"
                            VerticalAlignment="Center"
                            Foreground="{Binding ScriptViewModel.YourNameValidation, Converter={StaticResource validationResultColorConverter}}" />
                    </StackPanel>
                </Label>
                <TextBox
                    Text="{Binding ScriptViewModel.YourName, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                    Grid.Column="1"
                    Height="20"
                    IsEnabled="{Binding ScriptViewModel.CanChangeStaffLevel}" />
                <Label Grid.Column="2" VerticalAlignment="Center" FontSize="11" Margin="10, 0, 4, 0">
                    <StackPanel Orientation="Horizontal" ToolTip="{Binding ScriptViewModel.YourFirstNameValidation.Error}">
                        <iconPacks:PackIconModern
                            VerticalAlignment="Center"
                            Kind="Warning"
                            Margin="0,0,6,0"
                            Foreground="{Binding ScriptViewModel.YourFirstNameValidation, Converter={StaticResource validationResultColorConverter}}"
                            Visibility="{Binding ScriptViewModel.YourFirstNameValidation, Converter={StaticResource validationResultVisibilityConverter}}" />
                        <TextBlock
                            Text="Your first name:"
                            FontWeight="Bold"
                            VerticalAlignment="Center"
                            Foreground="{Binding ScriptViewModel.YourFirstNameValidation, Converter={StaticResource validationResultColorConverter}}" />
                    </StackPanel>
                </Label>
                <TextBox
                    Text="{Binding ScriptViewModel.YourFirstName, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                    Grid.Column="3"
                    Height="20"
                    IsEnabled="{Binding ScriptViewModel.CanChangeStaffLevel}" />
            </Grid>

            <!-- User / Level / Options -->
            <Grid
                Grid.Row="2"
                Margin="0,0,0,8">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>
                <Label Grid.Column="0" VerticalAlignment="Center" FontSize="11" Margin="0,0,4,0">
                    <StackPanel Orientation="Horizontal" ToolTip="{Binding ScriptViewModel.UserNameValidation.Error}">
                        <iconPacks:PackIconModern
                            VerticalAlignment="Center"
                            Kind="Warning"
                            Margin="0,0,6,0"
                            Foreground="{Binding ScriptViewModel.UserNameValidation, Converter={StaticResource validationResultColorConverter}}"
                            Visibility="{Binding ScriptViewModel.UserNameValidation, Converter={StaticResource validationResultVisibilityConverter}}" />
                        <TextBlock
                            Text="User:"
                            FontWeight="Bold"
                            VerticalAlignment="Center"
                            Foreground="{Binding ScriptViewModel.UserNameValidation, Converter={StaticResource validationResultColorConverter}}" />
                    </StackPanel>
                </Label>
                <TextBox
                    Text="{Binding ScriptViewModel.UserName, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                    Grid.Column="1"
                    VerticalAlignment="Center"
                    Height="20"
                    IsEnabled="{Binding ScriptViewModel.CanChangePage}" />
                <Label Grid.Column="2" VerticalAlignment="Center" FontSize="11" Margin="10, 0, 4, 0">
                    <StackPanel Orientation="Horizontal" ToolTip="{Binding ScriptViewModel.MembershipValidation.Error}">
                        <iconPacks:PackIconModern
                            VerticalAlignment="Center"
                            Kind="Warning"
                            Margin="0,0,6,0"
                            Foreground="{Binding ScriptViewModel.MembershipValidation, Converter={StaticResource validationResultColorConverter}}"
                            Visibility="{Binding ScriptViewModel.MembershipValidation, Converter={StaticResource validationResultVisibilityConverter}}" />
                        <TextBlock
                            Text="Level:"
                            FontWeight="Bold"
                            VerticalAlignment="Center"
                            Foreground="{Binding ScriptViewModel.MembershipValidation, Converter={StaticResource validationResultColorConverter}}" />
                    </StackPanel>
                </Label>
                <ComboBox
                    ItemsSource="{Binding ScriptViewModel.HubMemberships}"
                    SelectedItem="{Binding ScriptViewModel.Membership, Mode=TwoWay}"
                    Grid.Column="3"
                    VerticalAlignment="Center"
                    IsEnabled="{Binding ScriptViewModel.CanChangePage}" />
                <CheckBox
                    Grid.Column="4"
                    IsChecked="{Binding ScriptViewModel.FirstForPage}"
                    Content="First feature on page"
                    FontWeight="Bold"
                    FontSize="11"
                    Margin="16,0,0,0"
                    VerticalAlignment="Center"
                    IsEnabled="{Binding ScriptViewModel.CanChangePage}" />
                <CheckBox
                    Grid.Column="5"
                    IsChecked="{Binding ScriptViewModel.RawTag}"
                    Content="From RAW tag"
                    FontWeight="Bold"
                    FontSize="11"
                    Margin="16,0,0,0"
                    VerticalAlignment="Center"
                    Visibility="{Binding ScriptViewModel.SnapHubVisibility}"
                    IsEnabled="{Binding ScriptViewModel.CanChangePage}" />
                <CheckBox
                    Grid.Column="6"
                    IsChecked="{Binding ScriptViewModel.CommunityTag}"
                    Content="From community tag"
                    FontWeight="Bold"
                    FontSize="11"
                    Margin="16,0,0,0"
                    VerticalAlignment="Center"
                    Visibility="{Binding ScriptViewModel.SnapHubVisibility}"
                    IsEnabled="{Binding ScriptViewModel.CanChangePage}" />
            </Grid>

            <!-- Feature script header -->
            <Grid
                Grid.Row="3"
                Margin="0,0,0,4">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <Label Content="Feature script:" Grid.Column="0" VerticalAlignment="Center" FontWeight="Bold" FontSize="11" />
                <Button
                    Grid.Column="1"
                    Content="Copy"
                    IsEnabled="{Binding ScriptViewModel.CanCopyScripts}"
                    VerticalAlignment="Center"
                    Margin="8,0,0,0"
                    Padding="12,2"
                    Command="{Binding ScriptViewModel.CopyFeatureScriptCommand}" />
                <Button
                    Grid.Column="2"
                    Content="Copy (with Placeholders)"
                    IsEnabled="{Binding ScriptViewModel.CanCopyScripts}"
                    Visibility="{Binding ScriptViewModel.FeatureScriptPlaceholderVisibility}"
                    VerticalAlignment="Center"
                    Margin="8,0,0,0"
                    Padding="12,2"
                    Command="{Binding ScriptViewModel.CopyFeatureScriptWithPlaceholdersCommand}" />
            </Grid>
            <!-- Feature script -->
            <emoji:RichTextBox
                Grid.Row="4"
                Text="{Binding ScriptViewModel.FeatureScript, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                Height="Auto"
                Margin="0,0,0,8"
                Foreground="{Binding ScriptViewModel.CanCopyScripts, Converter={StaticResource validationBooleanColorConverter}}" />

            <!-- Comment script header -->
            <Grid
                Grid.Row="5"
                Margin="0,0,0,4">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <Label
                    Grid.Column="0"
                    Content="Comment script:"
                    VerticalAlignment="Center"
                    FontWeight="Bold"
                    FontSize="11" />
                <Button
                    Grid.Column="1"
                    Content="Copy"
                    IsEnabled="{Binding ScriptViewModel.CanCopyScripts}"
                    VerticalAlignment="Center"
                    Margin="8,0,0,0"
                    Padding="12,2"
                    Command="{Binding ScriptViewModel.CopyCommentScriptCommand}" />
                <Button
                    Grid.Column="2"
                    Content="Copy (with Placeholders)"
                    IsEnabled="{Binding ScriptViewModel.CanCopyScripts}"
                    Visibility="{Binding ScriptViewModel.CommentScriptPlaceholderVisibility}"
                    VerticalAlignment="Center"
                    Margin="8,0,0,0"
                    Padding="12,2"
                    Command="{Binding ScriptViewModel.CopyCommentScriptWithPlaceholdersCommand}" />
            </Grid>
            <!-- Comment script -->
            <emoji:RichTextBox
                Grid.Row="6"
                Text="{Binding ScriptViewModel.CommentScript, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                Height="Auto"
                Margin="0,0,0,8"
                Foreground="{Binding ScriptViewModel.CanCopyScripts, Converter={StaticResource validationBooleanColorConverter}}" />

            <!-- Original post script header -->
            <Grid
                Grid.Row="7"
                Margin="0,0,0,4">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <Label
                    Grid.Column="0"
                    Content="Original post script:"
                    VerticalAlignment="Center"
                    FontWeight="Bold"
                    FontSize="11" />
                <Button
                    Grid.Column="1"
                    Content="Copy"
                    IsEnabled="{Binding ScriptViewModel.CanCopyScripts}"
                    VerticalAlignment="Center"
                    Margin="8,0,0,0"
                    Padding="12,2"
                    Command="{Binding ScriptViewModel.CopyOriginalPostScriptCommand }" />
                <Button
                    Grid.Column="2"
                    Content="Copy (with Placeholder)"
                    IsEnabled="{Binding ScriptViewModel.CanCopyScripts}"
                    Visibility="{Binding ScriptViewModel.OriginalPostScriptPlaceholderVisibility}"
                    VerticalAlignment="Center"
                    Margin="8,0,0,0"
                    Padding="12,2"
                    Command="{Binding ScriptViewModel.CopyOriginalPostScriptWithPlaceholdersCommand}" />
            </Grid>
            <!-- Original post script -->
            <emoji:RichTextBox
                Grid.Row="8"
                Text="{Binding ScriptViewModel.OriginalPostScript, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                Height="Auto"
                Margin="0,0,0,8"
                Foreground="{Binding ScriptViewModel.CanCopyScripts, Converter={StaticResource validationBooleanColorConverter}}" />

            <!-- New membership script header -->
            <Grid
                Grid.Row="9"
                Margin="0,0,0,3">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <Label
                    Grid.Column="0"
                    Content="New membership script:"
                    VerticalAlignment="Center"
                    FontWeight="Bold"
                    FontSize="11" />
                <ComboBox
                    Grid.Column="1"
                    ItemsSource="{Binding ScriptViewModel.HubNewMemberships}"
                    SelectedItem="{Binding ScriptViewModel.NewMembership, Mode=TwoWay}"
                    Width="230" />
                <Button
                    Grid.Column="2"
                    Content="Copy"
                    IsEnabled="{Binding ScriptViewModel.CanCopyNewMembershipScript}"
                    VerticalAlignment="Center"
                    Margin="8,0,0,0"
                    Padding="12,2"
                    Command="{Binding ScriptViewModel.CopyNewMembershipScriptCommand}" />
            </Grid>
            <!-- New membership script -->
            <emoji:RichTextBox
                Grid.Row="10"
                Text="{Binding ScriptViewModel.NewMembershipScript, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                Height="Auto"
                Foreground="{Binding ScriptViewModel.CanCopyNewMembershipScript, Converter={StaticResource validationBooleanColorConverter}}" />
        </Grid>

        <!-- STATISTICS VIEW -->
        <ScrollViewer
            Grid.Row="1"
            Visibility="{Binding StatisticsViewVisibility}"
            CanContentScroll="True"
            HorizontalScrollBarVisibility="Auto"
            VerticalScrollBarVisibility="Auto">
            <Grid
                MinHeight="1024"
                Margin="16,8,16,8">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <Border
                    Grid.Row="0"
                    Grid.Column="0"
                    Grid.ColumnSpan="2"
                    Background="{DynamicResource MahApps.Brushes.SystemControlBackgroundBaseLow}"
                    Margin="10"
                    Padding="10"
                    CornerRadius="8">
                    <StackPanel Orientation="Vertical">
                        <StackPanel Orientation="Horizontal">
                            <Button
                                HorizontalAlignment="Left"
                                Height="22"
                                Padding="4,0,4,0"
                                Command="{Binding PickStatisticsFolderCommand}"
                                MinHeight="22">
                                <StackPanel Orientation="Horizontal" Margin="8,0" VerticalAlignment="Center">
                                    <iconPacks:PackIconJamIcons
                                        VerticalAlignment="Center"
                                        Kind="FolderOpen"
                                        Margin="0,0,6,0"
                                        Height="13"
                                        Foreground="{DynamicResource MahApps.Brushes.Accent}" />
                                    <TextBlock
                                        Text="Open folder containing your log files..."
                                        Margin="0,0,0,1"
                                        FontSize="11"
                                        FontWeight="Bold"
                                        Padding="0"
                                        VerticalAlignment="Center" />
                                </StackPanel>
                            </Button>
                            <TextBlock
                                Text="{Binding StatisticsFolder}"
                                FontSize="11"
                                FontWeight="Bold"
                                Padding="0"
                                Margin="20,0"
                                VerticalAlignment="Center" />
                        </StackPanel>
                        <StackPanel
                            Orientation="Horizontal"
                            Margin="0,8"
                            Visibility="{Binding StatisticsPages.Count, Converter={StaticResource countToVisibilityConverter}}">
                            <Label
                                VerticalAlignment="Center"
                                FontSize="11"
                                Margin="0,0,4,0">
                                <TextBlock
                                    Text="Choose a page:"
                                    FontWeight="Bold"
                                    VerticalAlignment="Center" />
                            </Label>
                            <ComboBox
                                Width="240"
                                ItemsSource="{Binding StatisticsPages}"
                                SelectedItem="{Binding SelectedStatisticsPage, Mode=TwoWay}">
                                <ComboBox.ItemTemplate>
                                    <DataTemplate DataType="local:MainViewModel:StatisticsPage">
                                        <StackPanel Orientation="Horizontal">
                                            <iconPacks:PackIconModern
                                                VerticalAlignment="Center"
                                                Kind="Page"
                                                Margin="0,0,6,0"
                                                Height="13"
                                                Foreground="{DynamicResource MahApps.Brushes.Accent}" />
                                            <TextBlock Text="{Binding Display}" />
                                        </StackPanel>
                                    </DataTemplate>
                                </ComboBox.ItemTemplate>
                            </ComboBox>
                        </StackPanel>
                    </StackPanel>
                </Border>
                <Border
                    Grid.Row="1"
                    Grid.Column="0"
                    Background="{DynamicResource MahApps.Brushes.SystemControlBackgroundBaseLow}"
                    Margin="10"
                    Visibility="{Binding ChartVisibility}"
                    CornerRadius="8">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="*" />
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="260" />
                        </Grid.ColumnDefinitions>
                        <TextBlock
                            Grid.Row="0"
                            Grid.ColumnSpan="2"
                            HorizontalAlignment="Center"
                            FontSize="28"
                            Text="{Binding PickedFeatureChart.Title}" />
                        <TextBlock
                            Grid.Row="1"
                            Grid.ColumnSpan="2"
                            HorizontalAlignment="Center"
                            FontSize="14"
                            Text="{Binding PickedFeatureChart.SubTitle}" />
                        <oxy:PlotView
                            Grid.Row="2"
                            Model="{Binding PickedFeatureChart.Model}"
                            Background="Transparent"
                            DefaultTrackerTemplate="{StaticResource CustomTrackerTemplate}"
                            Margin="12, 12" />
                        <local:PlotLegend 
                            Grid.Row="2"
                            Grid.Column="1"
                            DataContext="{Binding PickedFeatureChart}" />
                    </Grid>
                </Border>
                <Border
                    Grid.Row="1"
                    Grid.Column="1"
                    Background="{DynamicResource MahApps.Brushes.SystemControlBackgroundBaseLow}"
                    Margin="10"
                    Visibility="{Binding ChartVisibility}"
                    CornerRadius="8">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="*" />
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="260" />
                        </Grid.ColumnDefinitions>
                        <TextBlock
                            Grid.Row="0"
                            Grid.ColumnSpan="2"
                            HorizontalAlignment="Center"
                            FontSize="28"
                            Text="{Binding FirstFeatureChart.Title}" />
                        <TextBlock
                            Grid.Row="1"
                            Grid.ColumnSpan="2"
                            HorizontalAlignment="Center"
                            FontSize="14"
                            Text="{Binding FirstFeatureChart.SubTitle}" />
                        <oxy:PlotView
                            Grid.Row="2"
                            Model="{Binding FirstFeatureChart.Model}"
                            DefaultTrackerTemplate="{StaticResource CustomTrackerTemplate}"
                            Background="Transparent"
                            Margin="12, 12" />
                        <local:PlotLegend 
                            Grid.Row="2"
                            Grid.Column="1"
                            DataContext="{Binding FirstFeatureChart}" />
                    </Grid>
                </Border>
                <Border
                    Grid.Row="2"
                    Grid.Column="0"
                    Background="{DynamicResource MahApps.Brushes.SystemControlBackgroundBaseLow}"
                    Margin="10"
                    Visibility="{Binding ChartVisibility}"
                    CornerRadius="8">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="*" />
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="260" />
                        </Grid.ColumnDefinitions>
                        <TextBlock
                            Grid.Row="0"
                            Grid.ColumnSpan="2"
                            HorizontalAlignment="Center"
                            FontSize="20"
                            Text="{Binding UserLevelChart.Title}" />
                        <TextBlock
                            Grid.Row="1"
                            Grid.ColumnSpan="2"
                            HorizontalAlignment="Center"
                            FontSize="11"
                            Text="{Binding UserLevelChart.SubTitle}" />
                        <oxy:PlotView
                            Grid.Row="2"
                            Model="{Binding UserLevelChart.Model}"
                            DefaultTrackerTemplate="{StaticResource CustomTrackerTemplate}"
                            Background="Transparent"
                            Margin="12, 12" />
                        <local:PlotLegend 
                            Grid.Row="2"
                            Grid.Column="1"
                            DataContext="{Binding UserLevelChart}" />
                    </Grid>
                </Border>
                <Border
                    Grid.Row="2"
                    Grid.Column="1"
                    Background="{DynamicResource MahApps.Brushes.SystemControlBackgroundBaseLow}"
                    Margin="10"
                    Visibility="{Binding ChartVisibility}"
                    CornerRadius="8">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="*" />
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="260" />
                        </Grid.ColumnDefinitions>
                        <TextBlock
                            Grid.Row="0"
                            Grid.ColumnSpan="2"
                            HorizontalAlignment="Center"
                            FontSize="28"
                            Text="{Binding PhotoFeaturedChart.Title}" />
                        <TextBlock
                            Grid.Row="1"
                            Grid.ColumnSpan="2"
                            HorizontalAlignment="Center"
                            FontSize="14"
                            Text="{Binding PhotoFeaturedChart.SubTitle}" />
                        <oxy:PlotView
                            Grid.Row="2"
                            Model="{Binding PhotoFeaturedChart.Model}"
                            DefaultTrackerTemplate="{StaticResource CustomTrackerTemplate}"
                            Background="Transparent"
                            Margin="12, 12" />
                        <local:PlotLegend 
                            Grid.Row="2"
                            Grid.Column="1"
                            DataContext="{Binding PhotoFeaturedChart}" />
                    </Grid>
                </Border>
                <Border
                    Grid.Row="3"
                    Grid.Column="0"
                    Background="{DynamicResource MahApps.Brushes.SystemControlBackgroundBaseLow}"
                    Margin="10"
                    Visibility="{Binding ChartVisibility}"
                    CornerRadius="8">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="*" />
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="260" />
                        </Grid.ColumnDefinitions>
                        <TextBlock
                            Grid.Row="0"
                            Grid.ColumnSpan="2"
                            HorizontalAlignment="Center"
                            FontSize="28"
                            Text="{Binding PageFeatureCountChart.Title}" />
                        <TextBlock
                            Grid.Row="1"
                            Grid.ColumnSpan="2"
                            HorizontalAlignment="Center"
                            FontSize="14"
                            Text="{Binding PageFeatureCountChart.SubTitle}" />
                        <oxy:PlotView
                            Grid.Row="2"
                            Model="{Binding PageFeatureCountChart.Model}"
                            DefaultTrackerTemplate="{StaticResource CustomTrackerTemplate}"
                            Background="Transparent"
                            Margin="12, 12" />
                        <local:PlotLegend 
                            Grid.Row="2"
                            Grid.Column="1"
                            DataContext="{Binding PageFeatureCountChart}" />
                    </Grid>
                </Border>
                <Border
                    Grid.Row="3"
                    Grid.Column="1"
                    Background="{DynamicResource MahApps.Brushes.SystemControlBackgroundBaseLow}"
                    Margin="10"
                    Visibility="{Binding ChartVisibility}"
                    CornerRadius="8">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="*" />
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="260" />
                        </Grid.ColumnDefinitions>
                        <TextBlock
                            Grid.Row="0"
                            Grid.ColumnSpan="2"
                            HorizontalAlignment="Center"
                            FontSize="28"
                            Text="{Binding HubFeatureCountChart.Title}" />
                        <TextBlock
                            Grid.Row="1"
                            Grid.ColumnSpan="2"
                            HorizontalAlignment="Center"
                            FontSize="14"
                            Text="{Binding HubFeatureCountChart.SubTitle}" />
                        <oxy:PlotView
                            Grid.Row="2"
                            Model="{Binding HubFeatureCountChart.Model}"
                            DefaultTrackerTemplate="{StaticResource CustomTrackerTemplate}"
                            Background="Transparent"
                            Margin="12, 12" />
                        <local:PlotLegend 
                            Grid.Row="2"
                            Grid.Column="1"
                            DataContext="{Binding HubFeatureCountChart}" />
                    </Grid>
                </Border>
            </Grid>
        </ScrollViewer>

        <!-- POST DOWNLOADER VIEW -->
        <ScrollViewer
            CanContentScroll="True"
            VerticalScrollBarVisibility="Auto"
            Visibility="{Binding PostDownloaderViewVisibility}"
            Grid.Row="1">
            <Grid
                Margin="16,8,16,8">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />                 <!-- Page scope -->
                    <RowDefinition Height="Auto" />                 <!-- User name and bio -->
                    <RowDefinition Height="Auto" />                 <!-- Tag check and description -->
                    <RowDefinition Height="Auto" />                 <!-- Page and hub comments -->
                    <RowDefinition Height="Auto" />                 <!-- Images -->
                    <RowDefinition Height="Auto" />                 <!-- Logging -->
                </Grid.RowDefinitions>
                <!-- Page scope -->
                <Border
                    Grid.Row="0"
                    Margin="0,10"
                    Background="{DynamicResource MahApps.Brushes.SystemControlBackgroundBaseLow}"
                    CornerRadius="8">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />         <!-- Page -->
                            <RowDefinition Height="Auto" />         <!-- Page tags -->
                            <RowDefinition Height="Auto" />         <!-- Excluded tags -->
                            <RowDefinition Height="Auto" />         <!-- Post URL -->
                            <RowDefinition Height="Auto" />         <!-- User profile URL-->
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="120" />        <!-- Label -->
                            <ColumnDefinition Width="*" />          <!-- Value -->
                            <ColumnDefinition Width="Auto" />       <!-- Buttons -->
                        </Grid.ColumnDefinitions>
                        <!-- Page name -->
                        <Label
                            Grid.Row="0"
                            Grid.Column="0"
                            VerticalAlignment="Center"
                            HorizontalContentAlignment="Right"
                            FontSize="11"
                            Margin="0,0,4,0">
                            <StackPanel Orientation="Horizontal" ToolTip="{Binding PageValidation.Error}">
                                <iconPacks:PackIconModern
                                    VerticalAlignment="Center"
                                    Kind="Warning"
                                    Margin="0,0,6,0"
                                    Foreground="{Binding PageValidation, Converter={StaticResource validationResultColorConverter}}"
                                    Visibility="{Binding PageValidation, Converter={StaticResource validationResultVisibilityConverter}}" />
                                <TextBlock
                                    Text="Page:"
                                    FontWeight="Bold"
                                    VerticalAlignment="Center"
                                    Foreground="{Binding PageValidation, Converter={StaticResource greenValidationResultColorConverter}}" />
                            </StackPanel>
                        </Label>
                        <Label
                            Grid.Row="0"
                            Grid.Column="1"
                            VerticalAlignment="Center"
                            FontSize="11"
                            Margin="0,0,4,0">
                            <TextBlock
                                Text="{Binding SelectedPage.DisplayName}"
                                FontWeight="Bold"
                                VerticalAlignment="Center" />
                        </Label>
                        <!-- Page tags -->
                        <Label
                            Grid.Row="1"
                            Grid.Column="0"
                            VerticalAlignment="Center"
                            HorizontalContentAlignment="Right"
                            FontSize="11"
                            Margin="0,0,4,0">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock
                                    Text="Page tags:"
                                    FontWeight="Bold"
                                    VerticalAlignment="Center"
                                    Foreground="Lime" />
                            </StackPanel>
                        </Label>
                        <Label
                            Grid.Row="1"
                            Grid.Column="1"
                            VerticalAlignment="Center"
                            FontSize="11"
                            Margin="0,0,4,0">
                            <TextBlock
                                    Text="{Binding SelectedPage.PageTags, Converter={StaticResource stringJoinConverter}}"
                                    FontWeight="Bold"
                                    VerticalAlignment="Center" />
                        </Label>
                        <!-- Excluded tags -->
                        <Label
                            Grid.Row="2"
                            Grid.Column="0"
                            VerticalAlignment="Center"
                            HorizontalContentAlignment="Right"
                            FontSize="11"
                            Margin="0,0,4,0">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock
                                    Text="Excluded tags:"
                                    FontWeight="Bold"
                                    VerticalAlignment="Center"
                                    Foreground="Lime" />
                            </StackPanel>
                        </Label>
                        <TextBox
                            Grid.Row="2"
                            Grid.Column="1"
                            Text="{Binding ExcludedTags, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                            VerticalAlignment="Center"
                            HorizontalAlignment="Left"
                            FontSize="11"
                            FontWeight="Bold"
                            Width="480" />
                        <!-- Post URL -->
                        <Label
                            Grid.Row="3"
                            Grid.Column="0"
                            VerticalAlignment="Center"
                            HorizontalContentAlignment="Right"
                            FontSize="11"
                            Margin="0,0,4,0">
                            <StackPanel Orientation="Horizontal" ToolTip="{Binding SelectedFeature.PostLinkValidation.Error}">
                                <iconPacks:PackIconModern
                                    VerticalAlignment="Center"
                                    Kind="Warning"
                                    Margin="0,0,6,0"
                                    Foreground="{Binding SelectedFeature.PostLinkValidation, Converter={StaticResource validationResultColorConverter}}"
                                    Visibility="{Binding SelectedFeature.PostLinkValidation, Converter={StaticResource validationResultVisibilityConverter}}" />
                                <TextBlock
                                    Text="Page:"
                                    FontWeight="Bold"
                                    VerticalAlignment="Center"
                                    Foreground="{Binding SelectedFeature.PostLinkValidation, Converter={StaticResource greenValidationResultColorConverter}}" />
                            </StackPanel>
                        </Label>
                        <Label
                            Grid.Row="3"
                            Grid.Column="1"
                            VerticalAlignment="Center"
                            FontSize="11"
                            Margin="0,0,4,0">
                            <TextBlock
                                Text="{Binding SelectedFeature.PostLink}"
                                FontWeight="Bold"
                                VerticalAlignment="Center" />
                        </Label>
                        <StackPanel
                            Grid.Row="3"
                            Grid.Column="2"
                            Orientation="Horizontal" HorizontalAlignment="Right"
                            Height="22"
                            Margin="0,0,12,0">
                            <Button
                                Height="22"
                                Padding="4,0,4,0"
                                Command="{Binding LoadedPost.CopyPostUrlCommand}"
                                MinHeight="22">
                                <StackPanel Orientation="Horizontal" Margin="8,0" VerticalAlignment="Center">
                                    <iconPacks:PackIconFeatherIcons
                                        VerticalAlignment="Center"
                                        Kind="Clipboard"
                                        Margin="0,0,6,0"
                                        Height="13"
                                        Foreground="{DynamicResource MahApps.Brushes.Accent}" />
                                    <TextBlock Margin="0,0,0,1" FontSize="11" FontWeight="Bold" Padding="0" VerticalAlignment="Center">Copy URL</TextBlock>
                                </StackPanel>
                            </Button>
                            <Button
                                Height="22"
                                Padding="4,0,4,0"
                                Margin="10,0,0,0"
                                Command="{Binding LoadedPost.LaunchPostUrlCommand}"
                                MinHeight="22">
                                <StackPanel Orientation="Horizontal" Margin="8,0" VerticalAlignment="Center">
                                    <iconPacks:PackIconFeatherIcons
                                        VerticalAlignment="Center"
                                        Kind="Globe"
                                        Margin="0,0,6,0"
                                        Height="13"
                                        Foreground="{DynamicResource MahApps.Brushes.Accent}" />
                                    <TextBlock Margin="0,0,0,1" FontSize="11" FontWeight="Bold" Padding="0" VerticalAlignment="Center">Launch</TextBlock>
                                </StackPanel>
                            </Button>
                        </StackPanel>
                        <!-- User profile URL -->
                        <Label
                            Grid.Row="4"
                            Grid.Column="0"
                            VerticalAlignment="Center"
                            HorizontalContentAlignment="Right"
                            FontSize="11"
                            Margin="0,0,4,0">
                            <StackPanel Orientation="Horizontal" ToolTip="{Binding LoadedPost.UserProfileUrlValidation.Error}">
                                <iconPacks:PackIconModern
                                    VerticalAlignment="Center"
                                    Kind="Warning"
                                    Margin="0,0,6,0"
                                    Foreground="{Binding LoadedPost.UserProfileUrlValidation, Converter={StaticResource validationResultColorConverter}}"
                                    Visibility="{Binding LoadedPost.UserProfileUrlValidation, Converter={StaticResource validationResultVisibilityConverter}}" />
                                <TextBlock
                                    Text="User profile URL:"
                                    FontWeight="Bold"
                                    VerticalAlignment="Center"
                                    Foreground="{Binding LoadedPost.UserProfileUrlValidation, Converter={StaticResource greenValidationResultColorConverter}}" />
                            </StackPanel>
                        </Label>
                        <Label
                            Grid.Row="4"
                            Grid.Column="1"
                            VerticalAlignment="Center"
                            FontSize="11"
                            Margin="0,0,4,0">
                            <TextBlock
                                Text="{Binding LoadedPost.UserProfileUrl}"
                                FontWeight="Bold"
                                VerticalAlignment="Center" />
                        </Label>
                        <StackPanel
                            Grid.Row="4"
                            Grid.Column="2"
                            Orientation="Horizontal" HorizontalAlignment="Right"
                            Height="22"
                            Margin="0,0,12,6">
                            <Button
                                Height="22"
                                Padding="4,0,4,0"
                                Command="{Binding LoadedPost.CopyUserProfileUrlCommand}"
                                MinHeight="22">
                                <StackPanel Orientation="Horizontal" Margin="8,0" VerticalAlignment="Center">
                                    <iconPacks:PackIconFeatherIcons
                                        VerticalAlignment="Center"
                                        Kind="Clipboard"
                                        Margin="0,0,6,0"
                                        Height="13"
                                        Foreground="{DynamicResource MahApps.Brushes.Accent}" />
                                    <TextBlock Margin="0,0,0,1" FontSize="11" FontWeight="Bold" Padding="0" VerticalAlignment="Center">Copy URL</TextBlock>
                                </StackPanel>
                            </Button>
                            <Button
                                Height="22"
                                Padding="4,0,4,0"
                                Margin="10,0,0,0"
                                Command="{Binding LoadedPost.LaunchUserProfileUrlCommand}"
                                MinHeight="22">
                                <StackPanel Orientation="Horizontal" Margin="8,0" VerticalAlignment="Center">
                                    <iconPacks:PackIconFeatherIcons
                                        VerticalAlignment="Center"
                                        Kind="Globe"
                                        Margin="0,0,6,0"
                                        Height="13"
                                        Foreground="{DynamicResource MahApps.Brushes.Accent}" />
                                    <TextBlock Margin="0,0,0,1" FontSize="11" FontWeight="Bold" Padding="0" VerticalAlignment="Center">Launch</TextBlock>
                                </StackPanel>
                            </Button>
                        </StackPanel>
                    </Grid>
                </Border>
                <!-- User name and bio -->
                <Border
                    Grid.Row="1"
                    Margin="0,10"
                    Background="{DynamicResource MahApps.Brushes.SystemControlBackgroundBaseLow}"
                    CornerRadius="8">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />         <!-- User name -->
                            <RowDefinition Height="Auto" />         <!-- User alias -->
                            <RowDefinition Height="Auto" />         <!-- User bio label -->
                            <RowDefinition Height="Auto" />         <!-- User bio -->
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="120" />        <!-- Label -->
                            <ColumnDefinition Width="*" />          <!-- Value -->
                            <ColumnDefinition Width="Auto" />       <!-- Buttons -->
                        </Grid.ColumnDefinitions>
                        <!-- User alias -->
                        <Label
                            Grid.Row="0"
                            Grid.Column="0"
                            VerticalAlignment="Center"
                            HorizontalContentAlignment="Right"
                            FontSize="11"
                            Margin="0,0,4,0">
                            <StackPanel Orientation="Horizontal" ToolTip="{Binding LoadedPost.UserAliasValidation.Error}">
                                <iconPacks:PackIconModern
                                    VerticalAlignment="Center"
                                    Kind="Warning"
                                    Margin="0,0,6,0"
                                    Foreground="{Binding LoadedPost.UserAliasValidation, Converter={StaticResource validationResultColorConverter}}"
                                    Visibility="{Binding LoadedPost.UserAliasValidation, Converter={StaticResource validationResultVisibilityConverter}}" />
                                <TextBlock
                                    Text="User alias:"
                                    FontWeight="Bold"
                                    VerticalAlignment="Center"
                                    Foreground="{Binding LoadedPost.UserAliasValidation, Converter={StaticResource greenValidationResultColorConverter}}" />
                            </StackPanel>
                        </Label>
                        <Label
                            Grid.Row="0"
                            Grid.Column="1"
                            VerticalAlignment="Center"
                            FontSize="11"
                            Margin="0,0,4,0">
                            <TextBlock
                                Text="{Binding LoadedPost.UserAlias}"
                                FontWeight="Bold"
                                VerticalAlignment="Center" />
                        </Label>
                        <StackPanel
                            Grid.Row="0"
                            Grid.RowSpan="1"
                            Grid.Column="2"
                            Orientation="Horizontal"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Top"
                            Height="26"
                            Margin="0,4,12,0">
                            <Label VerticalAlignment="Center" FontSize="11" Margin="10,0,4,0" Height="26">
                                <StackPanel Orientation="Horizontal" ToolTip="{Binding SelectedFeature.UserAliasValidation.Error}">
                                    <iconPacks:PackIconModern
                                        VerticalAlignment="Center"
                                        Kind="Warning"
                                        Margin="0,0,6,0"
                                        Foreground="{Binding SelectedFeature.UserAliasValidation, Converter={StaticResource validationResultColorConverter}}"
                                        Visibility="{Binding SelectedFeature.UserAliasValidation, Converter={StaticResource validationResultVisibilityConverter}}" />
                                    <TextBlock
                                        Text="User alias:"
                                        FontWeight="Bold"
                                        VerticalAlignment="Center"
                                        Foreground="{Binding SelectedFeature.UserAliasValidation, Converter={StaticResource validationResultColorConverter}}" />
                                </StackPanel>
                            </Label>
                            <TextBox
                                Text="{Binding SelectedFeature.UserAlias, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                VerticalAlignment="Center"
                                FontSize="11"
                                FontWeight="Bold"
                                Width="200" />
                            <Button
                                Height="22"
                                Padding="4,0,4,0"
                                Margin="8,0,0,0"
                                Command="{Binding LoadedPost.TransferUserAliasCommand}"
                                MinHeight="22">
                                <StackPanel Orientation="Horizontal" Margin="8,0" VerticalAlignment="Center">
                                    <iconPacks:PackIconFeatherIcons
                                        VerticalAlignment="Center"
                                        Kind="Edit3"
                                        Margin="0,0,6,0"
                                        Height="13"
                                        Foreground="{DynamicResource MahApps.Brushes.Accent}" />
                                    <TextBlock Margin="0,0,0,1" FontSize="11" FontWeight="Bold" Padding="0" VerticalAlignment="Center">Transfer</TextBlock>
                                </StackPanel>
                            </Button>
                        </StackPanel>
                        <!-- User name -->
                        <Label
                            Grid.Row="1"
                            Grid.Column="0"
                            VerticalAlignment="Center"
                            HorizontalContentAlignment="Right"
                            FontSize="11"
                            Margin="0,0,4,0">
                            <StackPanel Orientation="Horizontal" ToolTip="{Binding LoadedPost.UserNameValidation.Error}">
                                <iconPacks:PackIconModern
                                    VerticalAlignment="Center"
                                    Kind="Warning"
                                    Margin="0,0,6,0"
                                    Foreground="{Binding LoadedPost.UserNameValidation, Converter={StaticResource validationResultColorConverter}}"
                                    Visibility="{Binding LoadedPost.UserNameValidation, Converter={StaticResource validationResultVisibilityConverter}}" />
                                <TextBlock
                                    Text="User name:"
                                    FontWeight="Bold"
                                    VerticalAlignment="Center"
                                    Foreground="{Binding LoadedPost.UserNameValidation, Converter={StaticResource greenValidationResultColorConverter}}" />
                            </StackPanel>
                        </Label>
                        <Label
                            Grid.Row="1"
                            Grid.Column="1"
                            VerticalAlignment="Center"
                            FontSize="11"
                            Margin="0,0,4,0">
                            <TextBlock
                                Text="{Binding LoadedPost.UserName}"
                                FontWeight="Bold"
                                VerticalAlignment="Center" />
                        </Label>
                        <StackPanel
                            Grid.Row="1"
                            Grid.RowSpan="1"
                            Grid.Column="2"
                            Orientation="Horizontal"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Top"
                            Height="26"
                            Margin="0,4,12,0">
                            <Label VerticalAlignment="Center" FontSize="11" Margin="10,0,4,0" Height="26">
                                <StackPanel Orientation="Horizontal" ToolTip="{Binding SelectedFeature.UserNameValidation.Error}">
                                    <iconPacks:PackIconModern
                                        VerticalAlignment="Center"
                                        Kind="Warning"
                                        Margin="0,0,6,0"
                                        Foreground="{Binding SelectedFeature.UserNameValidation, Converter={StaticResource validationResultColorConverter}}"
                                        Visibility="{Binding SelectedFeature.UserNameValidation, Converter={StaticResource validationResultVisibilityConverter}}" />
                                    <TextBlock
                                        Text="User name:"
                                        FontWeight="Bold"
                                        VerticalAlignment="Center"
                                        Foreground="{Binding SelectedFeature.UserNameValidation, Converter={StaticResource validationResultColorConverter}}" />
                                </StackPanel>
                            </Label>
                            <TextBox
                                Text="{Binding SelectedFeature.UserName, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                VerticalAlignment="Center"
                                FontSize="11"
                                FontWeight="Bold"
                                Width="200" />
                            <Button
                                Height="22"
                                Padding="4,0,4,0"
                                Margin="8,0,0,0"
                                Command="{Binding LoadedPost.TransferUserNameCommand}"
                                MinHeight="22">
                                <StackPanel Orientation="Horizontal" Margin="8,0" VerticalAlignment="Center">
                                    <iconPacks:PackIconFeatherIcons
                                        VerticalAlignment="Center"
                                        Kind="Edit3"
                                        Margin="0,0,6,0"
                                        Height="13"
                                        Foreground="{DynamicResource MahApps.Brushes.Accent}" />
                                    <TextBlock Margin="0,0,0,1" FontSize="11" FontWeight="Bold" Padding="0" VerticalAlignment="Center">Transfer</TextBlock>
                                </StackPanel>
                            </Button>
                        </StackPanel>
                        <!-- User bio -->
                        <Label
                            Grid.Row="2"
                            Grid.Column="0"
                            Grid.ColumnSpan="2"
                            VerticalAlignment="Bottom"
                            HorizontalContentAlignment="Left"
                            FontSize="11"
                            Margin="0,0,4,0">
                            <TextBlock
                                Text="User BIO:"
                                FontWeight="Bold"
                                VerticalAlignment="Top"
                                Foreground="Lime" />
                        </Label>
                        <StackPanel
                            Grid.Row="2"
                            Grid.RowSpan="2"
                            Grid.Column="2"
                            Orientation="Vertical"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Top"
                            Margin="0,4,12,0">
                            <StackPanel
                                Orientation="Horizontal"
                                Height="26">
                                <Label VerticalAlignment="Center" FontSize="11" Margin="10, 0, 4, 0">
                                    <StackPanel Orientation="Horizontal" ToolTip="{Binding SelectedFeature.UserLevelValidation.Error}">
                                        <iconPacks:PackIconModern
                                            VerticalAlignment="Center"
                                            Kind="Warning"
                                            Margin="0,0,6,0"
                                            Foreground="{Binding SelectedFeature.UserLevelValidation, Converter={StaticResource validationResultColorConverter}}"
                                            Visibility="{Binding SelectedFeature.UserLevelValidation, Converter={StaticResource validationResultVisibilityConverter}}" />
                                        <TextBlock
                                            Text="User level:"
                                            FontWeight="Bold"
                                            VerticalAlignment="Center"
                                            Foreground="{Binding SelectedFeature.UserLevelValidation, Converter={StaticResource validationResultColorConverter}}" />
                                    </StackPanel>
                                </Label>
                                <ComboBox
                                    ItemsSource="{Binding Memberships}"
                                    SelectedItem="{Binding SelectedFeature.UserLevel, Mode=TwoWay}"
                                    VerticalAlignment="Center"
                                    FontSize="11"
                                    FontWeight="Bold"
                                    Width="160" />
                            </StackPanel>
                            <mah:ToggleSwitch
                                HorizontalAlignment="Right"
                                Margin="16,0,0,0"
                                IsOn="{Binding SelectedFeature.UserIsTeammate, Mode=TwoWay}"
                                VerticalAlignment="Center"
                                MinWidth="0"
                                FontSize="12"
                                FontWeight="Bold">
                                <TextBlock
                                    Text="Teammate"
                                    Padding="0,0,0,2"
                                    VerticalAlignment="Center" />
                            </mah:ToggleSwitch>
                        </StackPanel>
                        <ScrollViewer
                            Grid.Row="3"
                            Grid.Column="0"
                            Grid.ColumnSpan="2"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Top"
                            CanContentScroll="True"
                            VerticalScrollBarVisibility="Auto"
                            Width="800"
                            MaxHeight="80"
                            Padding="0,0,0,10">
                            <emoji:RichTextBox
                                Text="{Binding LoadedPost.UserBio, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                HorizontalAlignment="Left"
                                IsReadOnly="True"
                                MaxWidth="580"
                                BorderBrush="Transparent"
                                BorderThickness="0"
                                Background="Transparent"
                                FontFamily="Times New Roman"
                                FontSize="18"
                                Margin="12,0,0,8" />
                        </ScrollViewer>
                    </Grid>
                </Border>
                <!-- Tag checks and description -->
                <Border
                    Grid.Row="2"
                    Margin="0,10"
                    Background="{DynamicResource MahApps.Brushes.SystemControlBackgroundBaseLow}"
                    CornerRadius="8"
                    Visibility="{Binding LoadedPost.ShowDescription, Converter={StaticResource BooleanToVisibilityConverter}}">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />         <!-- Page tag check -->
                            <RowDefinition Height="Auto" />         <!-- Excluded tags check -->
                            <RowDefinition Height="Auto" />         <!-- Description label -->
                            <RowDefinition Height="Auto" />         <!-- Description -->
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />          <!-- Label -->
                            <ColumnDefinition Width="Auto" />       <!-- Buttons -->
                        </Grid.ColumnDefinitions>
                        <!-- Page tag check -->
                        <Label
                            Grid.Row="0"
                            Grid.Column="0"
                            VerticalAlignment="Center"
                            HorizontalContentAlignment="Left"
                            FontSize="11"
                            Margin="0,0,4,0">
                            <StackPanel Orientation="Horizontal" ToolTip="{Binding LoadedPost.PageHashtagCheck.Error}">
                                <iconPacks:PackIconModern
                                    VerticalAlignment="Center"
                                    Kind="Warning"
                                    Margin="0,0,6,0"
                                    Foreground="{Binding LoadedPost.PageHashtagCheck, Converter={StaticResource validationResultColorConverter}}"
                                    Visibility="{Binding LoadedPost.PageHashtagCheck, Converter={StaticResource validationResultVisibilityConverter}}" />
                                <TextBlock
                                    Text="{Binding LoadedPost.PageHashtagCheck.Message}"
                                    FontWeight="Bold"
                                    VerticalAlignment="Center"
                                    Foreground="{Binding LoadedPost.PageHashtagCheck, Converter={StaticResource greenValidationResultColorConverter}}" />
                                <TextBlock
                                    Text="{Binding LoadedPost.PageHashtagCheck.Error}"
                                    FontWeight="Bold"
                                    VerticalAlignment="Center"
                                    Foreground="{Binding LoadedPost.PageHashtagCheck, Converter={StaticResource validationResultColorConverter}}" />
                            </StackPanel>
                        </Label>
                        <!-- Excluded tags check -->
                        <Label
                            Grid.Row="1"
                            Grid.Column="0"
                            VerticalAlignment="Center"
                            HorizontalContentAlignment="Left"
                            FontSize="11"
                            Margin="0,0,4,0">
                            <StackPanel Orientation="Horizontal" ToolTip="{Binding LoadedPost.ExcludedHashtagCheck.Error}">
                                <iconPacks:PackIconModern
                                    VerticalAlignment="Center"
                                    Kind="Warning"
                                    Margin="0,0,6,0"
                                    Foreground="{Binding LoadedPost.ExcludedHashtagCheck, Converter={StaticResource validationResultColorConverter}}"
                                    Visibility="{Binding LoadedPost.ExcludedHashtagCheck, Converter={StaticResource validationResultVisibilityConverter}}" />
                                <TextBlock
                                    Text="{Binding LoadedPost.ExcludedHashtagCheck.Message}"
                                    FontWeight="Bold"
                                    VerticalAlignment="Center"
                                    Foreground="{Binding LoadedPost.ExcludedHashtagCheck, Converter={StaticResource greenValidationResultColorConverter}}" />
                                <TextBlock
                                    Text="{Binding LoadedPost.ExcludedHashtagCheck.Error}"
                                    FontWeight="Bold"
                                    VerticalAlignment="Center"
                                    Foreground="{Binding LoadedPost.ExcludedHashtagCheck, Converter={StaticResource validationResultColorConverter}}" />
                            </StackPanel>
                        </Label>
                        <!-- Description -->
                        <Label
                            Grid.Row="2"
                            Grid.Column="0"
                            VerticalAlignment="Center"
                            HorizontalContentAlignment="Left"
                            FontSize="11"
                            Margin="0,0,4,0">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock
                                    Text="Description:"
                                    FontWeight="Bold"
                                    VerticalAlignment="Center"
                                    Foreground="Lime" />
                            </StackPanel>
                        </Label>
                        <ScrollViewer
                            Grid.Row="3"
                            Grid.Column="0"
                            Grid.ColumnSpan="2"
                            HorizontalAlignment="Left"
                            CanContentScroll="True"
                            VerticalScrollBarVisibility="Auto"
                            Width="800"
                            MaxHeight="172"
                            Padding="0,0,0,10">
                            <emoji:RichTextBox
                                Text="{Binding LoadedPost.Description, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                IsReadOnly="True"
                                MaxWidth="960"
                                BorderBrush="Transparent"
                                BorderThickness="0"
                                Background="Transparent"
                                FontSize="14"
                                Margin="12,0,0,8" />
                        </ScrollViewer>
                        <StackPanel
                            Grid.Row="2"
                            Grid.Column="1"
                            Orientation="Horizontal"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Top"
                            Height="26"
                            Margin="0,4,12,0">
                            <Label VerticalAlignment="Center" FontSize="11" Margin="0,0,4,0">
                                <StackPanel Orientation="Horizontal">
                                    <iconPacks:PackIconModern
                                        VerticalAlignment="Center"
                                        Kind="Warning"
                                        Margin="0,0,6,0"
                                        Foreground="{Binding SelectedFeature.FeatureDescriptionValidation, Converter={StaticResource validationResultColorConverter}}"
                                        Visibility="{Binding SelectedFeature.FeatureDescriptionValidation, Converter={StaticResource validationResultVisibilityConverter}}" />
                                    <TextBlock
                                        Text="Description:"
                                        FontWeight="Bold"
                                        VerticalAlignment="Center"
                                        Foreground="{Binding SelectedFeature.FeatureDescriptionValidation, Converter={StaticResource validationResultColorConverter}}" />
                                </StackPanel>
                            </Label>
                            <TextBox
                                Text="{Binding SelectedFeature.FeatureDescription, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                VerticalAlignment="Center"
                                FontSize="11"
                                FontWeight="Bold"
                                Width="280" />
                        </StackPanel>
                    </Grid>
                </Border>
                <!-- Page and hub comments -->
                <Border
                    Grid.Row="3"
                    Margin="0,10"
                    Background="{DynamicResource MahApps.Brushes.SystemControlBackgroundBaseLow}"
                    CornerRadius="8"
                    Visibility="{Binding LoadedPost.ShowComments, Converter={StaticResource BooleanToVisibilityConverter}}">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />         <!-- Page comments label -->
                            <RowDefinition Height="Auto" />         <!-- Page comments -->
                            <RowDefinition Height="Auto" />         <!-- Hub comments label -->
                            <RowDefinition Height="Auto" />         <!-- Hub comments -->
                            <RowDefinition Height="Auto" />         <!-- More comments -->
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />          <!-- Label -->
                            <ColumnDefinition Width="Auto" />       <!-- Buttons -->
                        </Grid.ColumnDefinitions>
                        <!-- Page comments -->
                        <Label
                            Grid.Row="0"
                            Grid.Column="0"
                            VerticalAlignment="Top"
                            HorizontalContentAlignment="Left"
                            FontSize="11"
                            Margin="0,0,4,0"
                            Visibility="{Binding LoadedPost.PageCommentsValidation, Converter={StaticResource validationResultVisibilityConverter}}">
                            <StackPanel Orientation="Horizontal">
                                <iconPacks:PackIconModern
                                    VerticalAlignment="Center"
                                    Kind="Warning"
                                    Margin="0,0,6,0"
                                    Foreground="Red" />
                                <TextBlock
                                    Text="{Binding LoadedPost.PageCommentsValidation.Error}"
                                    FontWeight="Bold"
                                    VerticalAlignment="Center"
                                    Foreground="Red" />
                            </StackPanel>
                        </Label>
                        <ScrollViewer
                            Grid.Row="1"
                            Grid.Column="0"
                            HorizontalAlignment="Left"
                            CanContentScroll="True"
                            VerticalScrollBarVisibility="Auto"
                            Width="800"
                            MaxHeight="80"
                            Padding="0,0,0,10"
                            Visibility="{Binding LoadedPost.PageCommentsValidation, Converter={StaticResource validationResultVisibilityConverter}}">
                            <ItemsControl
                                ItemsSource="{Binding LoadedPost.PageComments}"
                                FontSize="12"
                                HorizontalAlignment="Left"
                                Margin="12,0,0,8">
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate DataType="local:CommentEntry">
                                        <StackPanel Orientation="Horizontal" Margin="4,0,0,0">
                                            <TextBlock Text="● " VerticalAlignment="Top" />
                                            <TextBlock Text="{Binding Page}" VerticalAlignment="Top" />
                                            <TextBlock Text=" - " VerticalAlignment="Top" />
                                            <TextBlock Text="{Binding Timestamp}" VerticalAlignment="Top" FontSize="10" Margin="0,2,0,0" Opacity="0.6" />
                                            <TextBlock Text=" - " VerticalAlignment="Top" />
                                            <StackPanel Orientation="Vertical" VerticalAlignment="Top" Width="420">
                                                <emoji:TextBlock Text="{Binding Path=Comment}" TextWrapping="Wrap" Height="Auto" />
                                            </StackPanel>
                                            <Button
                                                VerticalAlignment="Top"
                                                Height="22"
                                                Padding="4,0,4,0"
                                                Margin="12,4,0,0"
                                                Command="{Binding MarkFeatureCommand}"
                                                MinHeight="22">
                                                <StackPanel Orientation="Horizontal" Margin="8,0" VerticalAlignment="Center">
                                                    <iconPacks:PackIconFeatherIcons
                                                        VerticalAlignment="Center"
                                                        Kind="CheckSquare"
                                                        Margin="0,0,6,0"
                                                        Height="13"
                                                        Foreground="{DynamicResource MahApps.Brushes.Accent}" />
                                                    <TextBlock Margin="0,0,0,1" FontSize="11" FontWeight="Bold" Padding="0" VerticalAlignment="Center">Mark Post</TextBlock>
                                                </StackPanel>
                                            </Button>
                                        </StackPanel>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                        </ScrollViewer>
                        <StackPanel
                            Grid.Row="0"
                            Grid.RowSpan="2"
                            Grid.Column="1"
                            Orientation="Vertical"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Top"
                            Margin="0,4,12,0"
                            Visibility="{Binding LoadedPost.PageCommentsValidation, Converter={StaticResource validationResultVisibilityConverter}}">
                            <mah:ToggleSwitch
                                Margin="16,0,0,0"
                                IsOn="{Binding SelectedFeature.PhotoFeaturedOnPage, Mode=TwoWay}"
                                HorizontalAlignment="Right"
                                VerticalAlignment="Center"
                                MinWidth="0"
                                FontSize="12"
                                FontWeight="Bold">
                                <TextBlock
                                    Text="Photo featured on page"
                                    Padding="0,0,0,2"
                                    VerticalAlignment="Center" />
                            </mah:ToggleSwitch>
                        </StackPanel>
                        <!-- Hub comments -->
                        <Label
                            Grid.Row="2"
                            Grid.Column="0"
                            VerticalAlignment="Center"
                            HorizontalContentAlignment="Left"
                            FontSize="11"
                            Margin="0,0,4,0"
                            Visibility="{Binding LoadedPost.HubCommentsValidation, Converter={StaticResource validationResultVisibilityConverter}}">
                            <StackPanel Orientation="Horizontal">
                                <iconPacks:PackIconModern
                                    VerticalAlignment="Center"
                                    Kind="Warning"
                                    Margin="0,0,6,0"
                                    Foreground="Orange" />
                                <TextBlock
                                    Text="{Binding LoadedPost.HubCommentsValidation.Error}"
                                    FontWeight="Bold"
                                    VerticalAlignment="Center"
                                    Foreground="Orange" />
                            </StackPanel>
                        </Label>
                        <ScrollViewer
                            Grid.Row="3"
                            Grid.Column="0"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Top"
                            CanContentScroll="True"
                            VerticalScrollBarVisibility="Auto"
                            Width="720"
                            MaxHeight="80"
                            Padding="0"
                            Visibility="{Binding LoadedPost.HubCommentsValidation, Converter={StaticResource validationResultVisibilityConverter}}">
                            <ItemsControl
                                ItemsSource="{Binding LoadedPost.HubComments}"
                                FontSize="12"
                                HorizontalAlignment="Left"
                                Margin="12,0,0,8">
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate DataType="local:CommentEntry">
                                        <StackPanel Orientation="Horizontal" Margin="4,0,0,0">
                                            <TextBlock Text="● " VerticalAlignment="Top" />
                                            <TextBlock Text="{Binding Page}" VerticalAlignment="Top" />
                                            <TextBlock Text=" - " VerticalAlignment="Top" />
                                            <TextBlock Text="{Binding Timestamp}" VerticalAlignment="Top" FontSize="10" Margin="0,2,0,0" Opacity="0.6" />
                                            <TextBlock Text=" - " VerticalAlignment="Top" />
                                            <StackPanel Orientation="Vertical" VerticalAlignment="Top" Width="420">
                                                <emoji:TextBlock Text="{Binding Path=Comment}" TextWrapping="Wrap" Height="Auto" />
                                            </StackPanel>
                                            <Button
                                                VerticalAlignment="Top"
                                                Height="22"
                                                Padding="4,0,4,0"
                                                Margin="12,4,0,0"
                                                Command="{Binding MarkFeatureCommand}"
                                                MinHeight="22">
                                                <StackPanel Orientation="Horizontal" Margin="8,0" VerticalAlignment="Center">
                                                    <iconPacks:PackIconFeatherIcons
                                                        VerticalAlignment="Center"
                                                        Kind="CheckSquare"
                                                        Margin="0,0,6,0"
                                                        Height="13"
                                                        Foreground="{DynamicResource MahApps.Brushes.Accent}" />
                                                    <TextBlock Margin="0,0,0,1" FontSize="11" FontWeight="Bold" Padding="0" VerticalAlignment="Center">Mark Post</TextBlock>
                                                </StackPanel>
                                            </Button>
                                        </StackPanel>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                        </ScrollViewer>
                        <StackPanel
                            Grid.Row="2"
                            Grid.RowSpan="2"
                            Grid.Column="1"
                            Orientation="Vertical"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Top"
                            Margin="0,4,12,0"
                            Visibility="{Binding LoadedPost.HubCommentsValidation, Converter={StaticResource validationResultVisibilityConverter}}">
                            <mah:ToggleSwitch
                                Margin="16,0,0,0"
                                IsOn="{Binding SelectedFeature.PhotoFeaturedOnHub, Mode=TwoWay}"
                                HorizontalAlignment="Right"
                                VerticalAlignment="Center"
                                MinWidth="0"
                                FontSize="12"
                                FontWeight="Bold">
                                <TextBlock
                                    Text="Photo featured on hub"
                                    Padding="0,0,0,2"
                                    VerticalAlignment="Center" />
                            </mah:ToggleSwitch>
                            <StackPanel
                                Orientation="Horizontal"
                                HorizontalAlignment="Right">
                                <Label
                                    VerticalAlignment="Center"
                                    FontSize="11"
                                    Margin="10,0,4,0"
                                    Visibility="{Binding SelectedFeature.PhotoFeaturedOnHub, Converter={StaticResource BooleanToVisibilityConverter}}">
                                    <StackPanel Orientation="Horizontal" ToolTip="{Binding SelectedFeature.PhotoLastFeaturedOnHubValidation.Error}">
                                        <iconPacks:PackIconModern
                                            VerticalAlignment="Center"
                                            Kind="Warning"
                                            Margin="0,0,6,0"
                                            Foreground="{Binding SelectedFeature.PhotoLastFeaturedOnHubValidation, Converter={StaticResource validationResultColorConverter}}"
                                            Visibility="{Binding SelectedFeature.PhotoLastFeaturedOnHubValidation, Converter={StaticResource validationResultVisibilityConverter}}" />
                                        <TextBlock
                                            Text="Last date featured:"
                                            FontWeight="Bold"
                                            VerticalAlignment="Center"
                                            Foreground="{Binding SelectedFeature.PhotoLastFeaturedOnHubValidation, Converter={StaticResource validationResultColorConverter}}" />
                                    </StackPanel>
                                </Label>
                                <TextBox
                                    Text="{Binding SelectedFeature.PhotoLastFeaturedOnHub, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                    Visibility="{Binding SelectedFeature.PhotoFeaturedOnHub, Converter={StaticResource BooleanToVisibilityConverter}}"
                                    VerticalAlignment="Center"
                                    Width="100"
                                    Height="20" />
                                <Label
                                    VerticalAlignment="Center"
                                    FontSize="11" Margin="10,0,4,0"
                                    Visibility="{Binding SelectedFeature.PhotoFeaturedOnHub, Converter={StaticResource BooleanToVisibilityConverter}}">
                                    <StackPanel Orientation="Horizontal" ToolTip="{Binding SelectedFeature.PhotoLastFeaturedPageValidation.Error}">
                                        <iconPacks:PackIconModern
                                            VerticalAlignment="Center"
                                            Kind="Warning"
                                            Margin="0,0,6,0"
                                            Foreground="{Binding SelectedFeature.PhotoLastFeaturedPageValidation, Converter={StaticResource validationResultColorConverter}}"
                                            Visibility="{Binding SelectedFeature.PhotoLastFeaturedPageValidation, Converter={StaticResource validationResultVisibilityConverter}}" />
                                        <TextBlock
                                            Text="on page:"
                                            FontWeight="Bold"
                                            VerticalAlignment="Center"
                                            Foreground="{Binding SelectedFeature.PhotoLastFeaturedPageValidation, Converter={StaticResource validationResultColorConverter}}" />
                                    </StackPanel>
                                </Label>
                                <TextBox
                                    Text="{Binding SelectedFeature.PhotoLastFeaturedPage, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                    Visibility="{Binding SelectedFeature.PhotoFeaturedOnHub, Converter={StaticResource BooleanToVisibilityConverter}}"
                                    VerticalAlignment="Center"
                                    Width="120"
                                    Height="20" />
                            </StackPanel>
                        </StackPanel>
                        <!-- More comments -->
                        <Label
                            Grid.Row="4"
                            Grid.Column="0"
                            VerticalAlignment="Center"
                            HorizontalContentAlignment="Left"
                            FontSize="11"
                            Margin="0,0,4,8"
                            Visibility="{Binding LoadedPost.MoreComments, Converter={StaticResource BooleanToVisibilityConverter}}">
                            <StackPanel Orientation="Horizontal">
                                <iconPacks:PackIconModern
                                    VerticalAlignment="Center"
                                    Kind="Warning"
                                    Margin="0,0,6,0"
                                    Foreground="Orange" />
                                <TextBlock
                                    Text="Not all comments found in post, check VERO app to see all comments"
                                    FontWeight="Bold"
                                    VerticalAlignment="Center"
                                    Foreground="Orange" />
                            </StackPanel>
                        </Label>
                    </Grid>
                </Border>
                <!-- Images -->
                <Border
                    Grid.Row="4"
                    Margin="0,10"
                    Background="{DynamicResource MahApps.Brushes.SystemControlBackgroundBaseLow}"
                    CornerRadius="8"
                    Visibility="{Binding LoadedPost.ShowImages, Converter={StaticResource BooleanToVisibilityConverter}}">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />         <!-- Images label -->
                            <RowDefinition Height="Auto" />         <!-- Images -->
                        </Grid.RowDefinitions>
                        <Label
                            Grid.Row="0"
                            VerticalAlignment="Top"
                            HorizontalContentAlignment="Left"
                            FontSize="11"
                            Margin="0,2,4,0">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock
                                    Text="Found "
                                    FontWeight="Bold"
                                    VerticalAlignment="Center"
                                    Foreground="Lime" />
                                <TextBlock
                                    Text="{Binding LoadedPost.ImageEntries.Count}"
                                    FontWeight="Bold"
                                    VerticalAlignment="Center"
                                    Foreground="Lime" />
                                <TextBlock
                                    Text=" Image(s) in Post"
                                    FontWeight="Bold"
                                    VerticalAlignment="Center"
                                    Foreground="Lime" />
                            </StackPanel>
                        </Label>
                        <mah:FlipView 
                            Grid.Row="1"
                            CircularNavigation="False"
                            IndexPlacement="Bottom"
                            IsBannerEnabled="False"
                            IsNavigationEnabled="True"
                            ItemsSource="{Binding LoadedPost.ImageEntries}"
                            SelectedIndex="{Binding LoadedPost.CurrentImageEntry, Mode=TwoWay}"
                            MouseHoverBorderEnabled="False"
                            NavigationButtonsPosition="Outside"
                            ShowIndex="{Binding LoadedPost.MultipleImages}"
                            Visibility="{Binding LoadedPost.ShowImages, Converter={StaticResource BooleanToVisibilityConverter}}">
                            <mah:FlipView.ItemTemplate>
                                <DataTemplate DataType="local:ImageEntry">
                                    <Border
                                        BorderThickness="0"
                                        CornerRadius="6"
                                        Margin="8"
                                        Background="{DynamicResource MahApps.Brushes.SystemControlBackgroundBaseLow}">
                                        <Grid Margin="8,4,8,12">
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="420" />
                                                <RowDefinition Height="Auto" />
                                                <RowDefinition Height="Auto" />
                                            </Grid.RowDefinitions>
                                            <Image
                                                Grid.Row="0"
                                                VerticalAlignment="Center"
                                                Margin="8"
                                                RenderOptions.BitmapScalingMode="HighQuality"
                                                Source="{Binding Source}">
                                            </Image>
                                            <StackPanel
                                                Grid.Row="1"
                                                Orientation="Horizontal"
                                                HorizontalAlignment="Center"
                                                Margin="0,0,0,4">
                                                <TextBlock
                                                    FontSize="12"
                                                    Text="Size: " />
                                                <TextBlock
                                                    FontSize="12"
                                                    Text="{Binding Width}" />
                                                <TextBlock
                                                    FontSize="12"
                                                    Text=" x " />
                                                <TextBlock
                                                    FontSize="12"
                                                    Text="{Binding Height}" />
                                            </StackPanel>
                                            <StackPanel
                                                Grid.Row="2"
                                                Orientation="Horizontal"
                                                HorizontalAlignment="Center">
                                                <Button Height="24" MinWidth="24" Margin="4,0" Command="{Binding ViewImageCommand}">
                                                    <StackPanel Orientation="Horizontal">
                                                        <iconPacks:PackIconFeatherIcons
                                                            VerticalAlignment="Center"
                                                            Kind="Search"
                                                            Margin="0,0,0,0"
                                                            Height="11"
                                                            Foreground="{DynamicResource MahApps.Brushes.Accent}" />
                                                        <TextBlock Text="View" VerticalAlignment="Center" Padding="4,0,4,2" />
                                                    </StackPanel>
                                                </Button>
                                                <Button Height="24" MinWidth="24" Margin="4,0" Command="{Binding ValidateImageCommand}">
                                                    <StackPanel Orientation="Horizontal">
                                                        <iconPacks:PackIconFeatherIcons
                                                            VerticalAlignment="Center"
                                                            Kind="CheckSquare"
                                                            Margin="0,0,0,0"
                                                            Height="11"
                                                            Foreground="{DynamicResource MahApps.Brushes.Accent}" />
                                                        <TextBlock Text="Validate" VerticalAlignment="Center" Padding="4,0,4,2" />
                                                    </StackPanel>
                                                </Button>
                                                <Button Height="24" MinWidth="24" Margin="4,0" Command="{Binding SaveImageCommand}">
                                                    <StackPanel Orientation="Horizontal">
                                                        <iconPacks:PackIconFeatherIcons
                                                            VerticalAlignment="Center"
                                                            Kind="Save"
                                                            Margin="0,0,0,0"
                                                            Height="11"
                                                            Foreground="{DynamicResource MahApps.Brushes.Accent}" />
                                                        <TextBlock Text="Save image" VerticalAlignment="Center" Padding="4,0,4,2" />
                                                    </StackPanel>
                                                </Button>
                                                <Button Height="24" MinWidth="24" Margin="4,0" Command="{Binding CopyImageUrlCommand}">
                                                    <StackPanel Orientation="Horizontal">
                                                        <iconPacks:PackIconFeatherIcons
                                                            VerticalAlignment="Center"
                                                            Kind="Clipboard"
                                                            Margin="0,0,0,0"
                                                            Height="11"
                                                            Foreground="{DynamicResource MahApps.Brushes.Accent}" />
                                                        <TextBlock Text="Copy URL" VerticalAlignment="Center" Padding="4,0,4,2" />
                                                    </StackPanel>
                                                </Button>
                                                <Button Height="24" MinWidth="24" Margin="4,0" Command="{Binding LaunchImageCommand}">
                                                    <StackPanel Orientation="Horizontal">
                                                        <iconPacks:PackIconFeatherIcons
                                                            VerticalAlignment="Center"
                                                            Kind="Globe"
                                                            Margin="0,0,0,0"
                                                            Height="11"
                                                            Foreground="{DynamicResource MahApps.Brushes.Accent}" />
                                                        <TextBlock Text="Launch" VerticalAlignment="Center" Padding="4,0,4,2" />
                                                    </StackPanel>
                                                </Button>
                                            </StackPanel>
                                        </Grid>
                                    </Border>
                                </DataTemplate>
                            </mah:FlipView.ItemTemplate>
                        </mah:FlipView>
                    </Grid>
                </Border>
                <!-- Logging -->
                <Border
                    Grid.Row="5"
                    Margin="0,10"
                    Background="{DynamicResource MahApps.Brushes.SystemControlBackgroundBaseLow}"
                    CornerRadius="8">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />         <!-- Logging label -->
                            <RowDefinition Height="Auto" />         <!-- Logging -->
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />          <!-- Label -->
                            <ColumnDefinition Width="Auto" />       <!-- Buttons -->
                        </Grid.ColumnDefinitions>
                        <!-- Logging label -->
                        <Label
                            Grid.Row="0"
                            Grid.Column="0"
                            VerticalAlignment="Top"
                            HorizontalContentAlignment="Left"
                            FontSize="11"
                            Margin="0,0,4,0">
                            <TextBlock
                                Text="LOGGING:"
                                FontWeight="Bold"
                                VerticalAlignment="Center"
                                Foreground="Orange" />
                        </Label>
                        <ItemsControl
                            Grid.Row="1"
                            Grid.Column="0"
                            HorizontalAlignment="Left"
                            Width="800"
                            Padding="0,0,0,10"
                            Margin="12,0,0,8"
                            ItemsSource="{Binding LoadedPost.LogEntries, Mode=OneWay}"
                            Background="Transparent">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate DataType="local:LogEntry">
                                    <StackPanel Orientation="Horizontal">
                                        <TextBlock
                                            Text="●"
                                            Background="Transparent"
                                            FontWeight="Bold"
                                            Margin="0,0,8,0"/>
                                        <TextBlock
                                            Text="{Binding Messsage}"
                                            Foreground="{Binding Color, Converter={StaticResource nullableColorToBrushConverter}}"
                                            Background="Transparent"
                                            FontWeight="Bold"
                                            MaxWidth="780"
                                            TextWrapping="Wrap" />
                                    </StackPanel>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                        <StackPanel
                            Grid.Row="0"
                            Grid.RowSpan="2"
                            Grid.Column="1"
                            Orientation="Horizontal"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Top"
                            Height="22"
                            Margin="0,12,12,6">
                            <Button
                                Height="22"
                                Padding="4,0,4,0"
                                Command="{Binding LoadedPost.CopyLogCommand}"
                                MinHeight="22">
                                <StackPanel Orientation="Horizontal" Margin="8,0" VerticalAlignment="Center">
                                    <iconPacks:PackIconFeatherIcons
                                        VerticalAlignment="Center"
                                        Kind="Clipboard"
                                        Margin="0,0,6,0"
                                        Height="13"
                                        Foreground="{DynamicResource MahApps.Brushes.Accent}" />
                                    <TextBlock Margin="0,0,0,1" FontSize="11" FontWeight="Bold" Padding="0" VerticalAlignment="Center">Copy Log</TextBlock>
                                </StackPanel>
                            </Button>
                        </StackPanel>
                    </Grid>
                </Border>
            </Grid>
        </ScrollViewer>

        <Grid
            Grid.Row="1"
            Visibility="{Binding ImageViewVisibility}">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>
            <StackPanel Orientation="Horizontal" Margin="20,10">
                <Button Height="24" MinWidth="24" Margin="8,4,8,0" Command="{Binding LoadedPost.ValidateCommand}" VerticalAlignment="Center">
                    <StackPanel Orientation="Horizontal">
                        <iconPacks:PackIconFeatherIcons
                            VerticalAlignment="Center"
                            Kind="CheckSquare"
                            Margin="0,0,0,0"
                            Height="11"
                            Foreground="{DynamicResource MahApps.Brushes.Accent}" />
                        <TextBlock Text="Validate" VerticalAlignment="Center" Padding="4,0,4,2" />
                    </StackPanel>
                </Button>
                <TextBlock Text="|" FontSize="16" Margin="16,2" VerticalAlignment="Center" />
                <TextBlock Text="Size:   " FontSize="18" VerticalAlignment="Center" />
                <TextBlock Text="{Binding LoadedPost.Image.Width}" FontSize="18" VerticalAlignment="Center" />
                <TextBlock Text=" x " FontSize="18" VerticalAlignment="Center" />
                <TextBlock Text="{Binding LoadedPost.Image.Height}" FontSize="18" VerticalAlignment="Center" />
                <TextBlock Text="|" FontSize="16" Margin="16,2" VerticalAlignment="Center" />
                <TextBlock Text="Scale:   " FontSize="18" VerticalAlignment="Center" />
                <Slider 
                    Margin="0,4,0,0"
                    Orientation="Horizontal" 
                    VerticalAlignment="Center"
                    Minimum="10" 
                    Maximum="200" 
                    Value="{Binding LoadedPost.ImageScalePercent, Mode=TwoWay}" 
                    Width="500" />
                <Button Height="24" MinWidth="24" Margin="8,4,8,0" Command="{Binding LoadedPost.ResetImageScaleCommand}" VerticalAlignment="Center">
                    <StackPanel Orientation="Horizontal">
                        <iconPacks:PackIconFeatherIcons
                            VerticalAlignment="Center"
                            Kind="RefreshCcw"
                            Margin="0,0,0,0"
                            Height="11"
                            Foreground="{DynamicResource MahApps.Brushes.Accent}" />
                        <TextBlock Text="Reset" VerticalAlignment="Center" Padding="4,0,4,2" />
                    </StackPanel>
                </Button>
            </StackPanel>
            <ScrollViewer
                Grid.Row="1"
                CanContentScroll="True"
                HorizontalScrollBarVisibility="Auto"
                VerticalScrollBarVisibility="Auto">
                <Viewbox
                    Margin="20" 
                    HorizontalAlignment="Left" 
                    VerticalAlignment="Top">
                    <Viewbox.RenderTransform>
                        <ScaleTransform 
                            ScaleX="{Binding LoadedPost.ImageScale}"
                            ScaleY="{Binding LoadedPost.ImageScale}" />
                    </Viewbox.RenderTransform>
                    <Image
                        Stretch="None"
                        RenderOptions.BitmapScalingMode="HighQuality"                        
                        Source="{Binding LoadedPost.Image.Source}" />
                </Viewbox>
            </ScrollViewer>
        </Grid>

        <!-- IMAGE VALIDATION VIEW -->
        <Grid
            Visibility="{Binding ImageValidationViewVisibility}"
            Grid.Row="1"
            Margin="16,8,16,8">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />         <!-- Validation -->
                <RowDefinition Height="*" />            <!-- TinEye / HIVE results tab -->
            </Grid.RowDefinitions>
            <!-- Validation -->
            <Border
                Grid.Row="0"
                Margin="0,10"
                Background="{DynamicResource MahApps.Brushes.SystemControlBackgroundBaseLow}"
                CornerRadius="8">
                <StackPanel Orientation="Horizontal" Margin="4,12">
                    <Label
                        VerticalAlignment="Center"
                        FontSize="11"
                        Margin="0, 0, 4, 0">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock
                                Text="TinEye:"
                                FontWeight="Bold"
                                VerticalAlignment="Center" />
                        </StackPanel>
                    </Label>
                    <ComboBox
                        ItemsSource="{Binding TinEyeResults}"
                        SelectedItem="{Binding SelectedFeature.TinEyeResults, Mode=TwoWay}"
                        Width="160"
                        VerticalAlignment="Center" />
                    <TextBlock Text="|" Margin="20,0,0,4" FontSize="18" VerticalAlignment="Center"  />
                    <Label
                        VerticalAlignment="Center"
                        FontSize="11"
                        Margin="10, 0, 4, 0">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock
                                Text="AI check:"
                                FontWeight="Bold"
                                VerticalAlignment="Center" />
                        </StackPanel>
                    </Label>
                    <ComboBox
                        ItemsSource="{Binding AiCheckResults}"
                        SelectedItem="{Binding SelectedFeature.AiCheckResults, Mode=TwoWay}"
                        Width="160"
                        VerticalAlignment="Center" />
                    <Label
                        VerticalAlignment="Center"
                        FontSize="14"
                        Margin="10, 0, 4, 0"
                        Visibility="{Binding LoadedPost.ImageValidation.VerdictVisibility}">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="|" Margin="10,0,20,4" FontSize="18" VerticalAlignment="Center"  />
                            <iconPacks:PackIconJamIcons
                                Kind="{Binding LoadedPost.ImageValidation.Verdict.Icon}"
                                Margin="0,0,6,0"
                                Width="28"
                                Height="28"
                                Foreground="{Binding LoadedPost.ImageValidation.Verdict.Color}"
                                VerticalAlignment="Center" />
                            <TextBlock
                                Text="HIVE AI Verdict:"
                                Foreground="{Binding LoadedPost.ImageValidation.Verdict.Color}"
                                FontWeight="Bold"
                                VerticalAlignment="Center" />
                            <TextBlock
                                Text="{Binding LoadedPost.ImageValidation.Verdict.Message}"
                                Margin="8,0,0,0"
                                FontWeight="Bold"
                                Foreground="{Binding LoadedPost.ImageValidation.Verdict.Color}"
                                VerticalAlignment="Center" />
                        </StackPanel>
                    </Label>
                </StackPanel>
            </Border>
            <!-- TinEye / HIVE tabs -->
            <Border
                Grid.Row="1"
                Margin="0, 10"
                Background="{DynamicResource MahApps.Brushes.SystemControlBackgroundBaseLow}"
                CornerRadius="8">
                <mah:MetroAnimatedSingleRowTabControl
                    Background="Transparent"
                    Margin="10">
                    <TabItem>
                        <TabItem.Header>
                            <Border
                                Background="{Binding IsSelected, RelativeSource={RelativeSource AncestorType=TabItem}, Converter={StaticResource booleanToBorderColorConverter}}"
                                CornerRadius="8"
                                Margin="0,0,0,4">
                                <StackPanel
                                    Orientation="Horizontal"
                                    Height="28"
                                    Margin="10,4">
                                    <iconPacks:PackIconFeatherIcons
                                        VerticalAlignment="Center"
                                        Kind="Globe"
                                        Margin="0,0,8,0"
                                        Width="20"
                                        Height="20"
                                        Foreground="{Binding IsSelected, RelativeSource={RelativeSource AncestorType=TabItem}, Converter={StaticResource booleanToAccentColorConverter}}" />
                                    <TextBlock
                                        Text="TinEye Results"
                                        VerticalAlignment="Center"
                                        Margin="0,0,0,2"
                                        FontSize="14"
                                        Foreground="{DynamicResource MahApps.Brushes.Text}"
                                        FontWeight="{Binding IsSelected, RelativeSource={RelativeSource AncestorType=TabItem}, Converter={StaticResource booleanToFontWeightConverter}}"/>
                                </StackPanel>
                            </Border>
                        </TabItem.Header>
                        <Border
                            Background="White"
                            CornerRadius="4">
                            <wv2:WebView2
                                Name="webView"
                                Source="{Binding TinEyeSource}"
                                DefaultBackgroundColor="White" />
                        </Border>
                    </TabItem>
                    <TabItem>
                        <TabItem.Header>
                            <Border
                                Background="{Binding IsSelected, RelativeSource={RelativeSource AncestorType=TabItem}, Converter={StaticResource booleanToBorderColorConverter}}"
                                CornerRadius="8"
                                Margin="0,0,0,4">
                                <StackPanel
                                    Orientation="Horizontal"
                                    Height="28"
                                    Margin="10,2">
                                    <iconPacks:PackIconFeatherIcons
                                        VerticalAlignment="Center"
                                        Kind="CheckSquare"
                                        Margin="0,0,6,0"
                                        Width="20"
                                        Height="20"
                                        Foreground="{Binding IsSelected, RelativeSource={RelativeSource AncestorType=TabItem}, Converter={StaticResource booleanToAccentColorConverter}}" />
                                    <TextBlock
                                        Text="HIVE Results"
                                        VerticalAlignment="Center"
                                        Margin="0,0,0,2"
                                        FontSize="14"
                                        Foreground="{DynamicResource MahApps.Brushes.Text}"
                                        FontWeight="{Binding IsSelected, RelativeSource={RelativeSource AncestorType=TabItem}, Converter={StaticResource booleanToFontWeightConverter}}"/>
                                </StackPanel>
                            </Border>
                        </TabItem.Header>
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />     <!-- Logging label -->
                                <RowDefinition Height="*" />        <!-- Logging -->
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />      <!-- Label -->
                                <ColumnDefinition Width="Auto" />   <!-- Buttons -->
                            </Grid.ColumnDefinitions>
                            <!-- Logging label -->
                            <Label
                                Grid.Row="0"
                                Grid.Column="0"
                                VerticalAlignment="Top"
                                HorizontalContentAlignment="Left"
                                FontSize="11"
                                Margin="0,0,4,0">
                                <TextBlock
                                    Text="LOGGING:"
                                    FontWeight="Bold"
                                    VerticalAlignment="Center"
                                    Foreground="Orange" />
                            </Label>
                            <ScrollViewer
                                Grid.Row="1"
                                Grid.Column="0"
                                CanContentScroll="True"
                                VerticalScrollBarVisibility="Auto">
                                <ItemsControl
                                    HorizontalAlignment="Left"
                                    Width="800"
                                    Padding="0,0,0,10"
                                    Margin="12,0,0,8"
                                    ItemsSource="{Binding LoadedPost.ImageValidation.LogEntries, Mode=OneWay}"
                                    Background="Transparent">
                                    <ItemsControl.ItemTemplate>
                                        <DataTemplate DataType="local:LogEntry">
                                            <StackPanel Orientation="Horizontal">
                                                <TextBlock
                                                    Text="●"
                                                    Background="Transparent"
                                                    FontWeight="Bold"
                                                    Margin="0,0,8,0"
                                                    Visibility="{Binding SkipBullet, Converter={StaticResource validationBooleanVisibilityConverter}}"/>
                                                <TextBlock
                                                    Text="{Binding Messsage}"
                                                    Foreground="{Binding Color, Converter={StaticResource nullableColorToBrushConverter}}"
                                                    Background="Transparent"
                                                    FontWeight="Bold"
                                                    MaxWidth="780"
                                                    TextWrapping="Wrap" />
                                            </StackPanel>
                                        </DataTemplate>
                                    </ItemsControl.ItemTemplate>
                                </ItemsControl>
                            </ScrollViewer>
                            <StackPanel
                                Grid.Row="0"
                                Grid.RowSpan="2"
                                Grid.Column="1"
                                Orientation="Horizontal"
                                HorizontalAlignment="Right"
                                VerticalAlignment="Top"
                                Height="22"
                                Margin="0,12,12,6">
                                <Button
                                    Height="22"
                                    Padding="4,0,4,0"
                                    Command="{Binding LoadedPost.ImageValidation.CopyLogCommand}"
                                    MinHeight="22">
                                    <StackPanel Orientation="Horizontal" Margin="8,0" VerticalAlignment="Center">
                                        <iconPacks:PackIconFeatherIcons
                                            VerticalAlignment="Center"
                                            Kind="Clipboard"
                                            Margin="0,0,6,0"
                                            Height="13"
                                            Foreground="{DynamicResource MahApps.Brushes.Accent}" />
                                        <TextBlock Margin="0,0,0,1" FontSize="11" FontWeight="Bold" Padding="0" VerticalAlignment="Center">Copy Log</TextBlock>
                                    </StackPanel>
                                </Button>
                            </StackPanel>
                        </Grid>
                    </TabItem>
                </mah:MetroAnimatedSingleRowTabControl>
            </Border>
        </Grid>

        <notifications:NotificationArea Grid.Row="1" x:Name="WindowArea" Position="TopRight" MaxItems="3" />

        <!-- Footer -->
        <Grid Margin="0,8,0,0" Grid.Row="2" Background="{Binding StatusBarBrush}">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>
            <StackPanel Grid.Column="1" Orientation="Horizontal" Margin="0,5">
                <TextBlock Text="Theme: " VerticalAlignment="Center" Foreground="{DynamicResource MahApps.Brushes.ThemeForeground}" Opacity="0.5" />
                <mah:DropDownButton
                    BorderThickness="0"
                    Content="{Binding Theme.DisplayName}"
                    FontSize="8pt"
                    ItemsSource="{Binding Themes}"
                    VerticalAlignment="Center"
                    Style="{DynamicResource MahApps.Styles.DropDownButton.WindowCommands}">
                    <mah:DropDownButton.ItemTemplate>
                        <DataTemplate DataType="local:ThemeOption">
                            <Grid Margin="0,0,20,0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="32" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>
                                <iconPacks:PackIconBootstrapIcons
                                    Grid.Column="0"
                                    Width="12"
                                    Height="12"
                                    Visibility="{Binding IsSelected, Converter={StaticResource BooleanToVisibilityConverter}}"
                                    Kind="Check"
                                    VerticalAlignment="Center"
                                    HorizontalAlignment="Left" />
                                <TextBlock
                                    Grid.Column="1"
                                    Text="{Binding Theme.DisplayName}"
                                    FontSize="8pt"
                                    VerticalAlignment="Center" />
                            </Grid>
                        </DataTemplate>
                    </mah:DropDownButton.ItemTemplate>
                    <mah:DropDownButton.ItemContainerStyle>
                        <Style BasedOn="{StaticResource {x:Type MenuItem}}" TargetType="{x:Type MenuItem}">
                            <Setter Property="Command" Value="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type mah:DropDownButton}}, Path=DataContext.SetThemeCommand}" />
                            <Setter Property="CommandParameter" Value="{Binding Theme}" />
                        </Style>
                    </mah:DropDownButton.ItemContainerStyle>
                </mah:DropDownButton>
            </StackPanel>
            <TextBlock 
                Grid.Column="2" 
                Text="|" 
                Margin="8,0,8,2" 
                VerticalAlignment="Center" 
                Foreground="{DynamicResource MahApps.Brushes.ThemeForeground}" 
                Opacity="0.5" />
            <StackPanel Grid.Column="3" Orientation="Horizontal">
                <mah:WindowCommands>
                    <Button
                        BorderThickness="0"
                        Command="{Binding LaunchAboutCommand}"
                        Content="{Binding Version}"
                        Style="{DynamicResource MahApps.Styles.Button.WindowCommands}">
                        <Button.ContentTemplate>
                            <DataTemplate>
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock 
                                        Margin="0,0,8,0" 
                                        VerticalAlignment="Center" 
                                        Text="Version:" />
                                    <TextBlock 
                                        Margin="0,0,24,0"
                                        VerticalAlignment="Center"
                                        Text="{Binding}" />
                                </StackPanel>
                            </DataTemplate>
                        </Button.ContentTemplate>
                    </Button>
                </mah:WindowCommands>
            </StackPanel>
        </Grid>
    </Grid>

</mah:MetroWindow>
